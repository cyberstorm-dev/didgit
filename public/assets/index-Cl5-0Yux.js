import{g as _e,a as Le,t as X,b as Te,c as xe,s as Ue,i as ne,d as Be,e as R,f as de,h as Ke,j as oe,k as ce,v as ke,l as He,K as Ge,m as Xe,n as ze,o as We,p as ye,q as Ae,r as $,u as q,w as Ye,x as J,y as $e,z as qe,A as Je,B as Qe,C as Q,D as Ze,E as je,F as et,G as tt,H as Jt}from"./kernelAccountClient-DV26dk-h.js";import{I as Aa,J as Da,L as Ca,M as Ea,S as Ta,N as xa,O as Ba,P as Fa,Q as ga,R as ha,T as Ia,U as wa,V as Ma,W as va,X as Sa,Y as Ra,Z as Na,_ as Va,$ as Pa,a0 as Oa,a1 as _a,a2 as La}from"./kernelAccountClient-DV26dk-h.js";import{B as at,C as M,D as nt,I as st,E as G,F as rt,G as it,H as dt,J as ot,K as ct,L as yt,N as pt,U as ut,O as z,P as se,Q as v,R as Z,T as pe,V as A,W as re,X as Fe,Y as ge,_ as he,$ as lt,a0 as bt,a1 as ft,a2 as mt,a3 as At,a4 as ie,a5 as De,a6 as j,a7 as ue,a8 as le,a9 as Dt,aa as Ct,ab as Et,ac as Tt,ad as xt,ae as Bt,af as Ft,ag as gt}from"./index-Fg_RJM5o.js";import{e as ht,K as Ie,M as It,a as we,C as wt,V as Mt,P as vt}from"./constants-DMLZgIFM.js";import{c as Ka}from"./constants-DMLZgIFM.js";function St(t,e){if(t.length!==e.length)throw new at({expectedLength:t.length,givenLength:e.length});const a=[];for(let n=0;n<t.length;n++){const r=t[n],i=e[n];a.push(Me(r,i))}return M(a)}function Me(t,e,a=!1){if(t==="address"){const o=e;if(!nt(o))throw new st({address:o});return G(o.toLowerCase(),{size:a?32:null})}if(t==="string")return rt(e);if(t==="bytes")return e;if(t==="bool")return G(it(e),{size:a?32:1});const n=t.match(dt);if(n){const[o,u,c="256"]=n,d=Number.parseInt(c,10)/8;return ot(e,{size:a?32:d,signed:u==="int"})}const r=t.match(ct);if(r){const[o,u]=r;if(Number.parseInt(u,10)!==(e.length-2)/2)throw new yt({expectedSize:Number.parseInt(u,10),givenSize:(e.length-2)/2});return G(e,{dir:"right",size:a?32:null})}const i=t.match(pt);if(i&&Array.isArray(e)){const[o,u]=i,c=[];for(let d=0;d<e.length;d++)c.push(Me(u,e[d],!0));return c.length===0?"0x":M(c)}throw new ut(t)}function Rt(t){return{getPaymasterData:e=>Le(t,e),getPaymasterStubData:e=>_e(t,e)}}function Nt(t){return{...X({address:t,async signMessage(){throw new Error("Method not supported")},async signTransaction(a){throw new Error("Method not supported")},async signTypedData(a){throw new Error("Method not supported")}}),publicKey:"0x",source:"empty"}}async function Vt(t,{signer:e,entryPoint:a,kernelVersion:n}){var u;const r=await Te({signer:e}),i=((u=t.chain)==null?void 0:u.id)??await z(t);return{...X({address:r.address,async signMessage({message:c}){return se(t,{account:r,message:c})},async signTransaction(c,d){throw new Error("Smart account signer doesn't need to sign transactions")},async signTypedData(c){return r.signTypedData(c)}}),supportedKernelVersions:n,validatorType:"EIP7702",address:r.address,source:"EIP7702Validator",getIdentifier(){return"0x"},async getEnableData(){return r.address},async getNonceKey(c,d){return d||0n},async signUserOperation(c){const d=xe({userOperation:{...c,signature:"0x"},entryPointAddress:a.address,entryPointVersion:a.version,chainId:i});return await se(t,{account:r,message:{raw:d}})},async getStubSignature(){return"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"},async isEnabled(c,d){return!1}}}const Pt=[{type:"constructor",inputs:[{name:"_impl",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"},{type:"function",name:"getAddress",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"error",name:"InitializeError",inputs:[]}],Ot=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],jt={ACCOUNT_LOGIC_V0_6:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",ACCOUNT_LOGIC_V0_7:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS_V0_6:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3",FACTORY_ADDRESS_V0_7:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",FACTORY_STAKER:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},_t=async({entryPointVersion:t,kernelPluginManager:e,initHook:a,kernelVersion:n,initConfig:r})=>{var d,C,E,y;const{enableData:i,identifier:o,validatorAddress:u,initConfig:c}=await e.getValidatorInitData();return t==="0.6"?A({abi:Xe,functionName:"initialize",args:[u,i]}):n==="0.3.0"?A({abi:ze,functionName:"initialize",args:[o,a&&e.hook?(d=e.hook)==null?void 0:d.getIdentifier():v,i,a&&e.hook?await((C=e.hook)==null?void 0:C.getEnableData()):"0x"]}):A({abi:We,functionName:"initialize",args:[o,a&&e.hook?(E=e.hook)==null?void 0:E.getIdentifier():v,i,a&&e.hook?await((y=e.hook)==null?void 0:y.getEnableData()):"0x",r??c??[]]})},Lt=async({index:t,factoryAddress:e,accountImplementationAddress:a,entryPointVersion:n,kernelPluginManager:r,initHook:i,kernelVersion:o,initConfig:u,useMetaFactory:c})=>{const d=await _t({entryPointVersion:n,kernelPluginManager:r,initHook:i,kernelVersion:o,initConfig:u});return n==="0.6"?A({abi:Ot,functionName:"createAccount",args:[a,d,t]}):c?A({abi:Ge,functionName:"deployWithFactory",args:[e,d,re(t,{size:32})]}):A({abi:Pt,functionName:"createAccount",args:[d,re(t,{size:32})]})},Ut=(t,e,{accountImplementationAddress:a,factoryAddress:n,metaFactoryAddress:r})=>{ke(t,e);const i=Ie[e];if(!i)throw new Error(`No addresses found for kernel version ${e}`);return{accountImplementationAddress:a??i.accountImplementationAddress,factoryAddress:n??i.factoryAddress,metaFactoryAddress:r??i.metaFactoryAddress??v}};async function Ce(t,{plugins:e,entryPoint:a,index:n=0n,factoryAddress:r,accountImplementationAddress:i,metaFactoryAddress:o,address:u,kernelVersion:c,initConfig:d,useMetaFactory:C=!0,eip7702Auth:E,eip7702Account:y,pluginMigrations:m}){var me;const s=!!y||!!E;if(s&&!Ue.satisfies(c,">=0.3.3"))throw new Error("EIP-7702 is recommended for kernel version >=0.3.3");const l=y?await Te({signer:y,address:u}):void 0;let D;l&&(D=await Vt(t,{signer:l,entryPoint:a,kernelVersion:c}));let B=C;const{accountImplementationAddress:h,factoryAddress:N,metaFactoryAddress:P}=Ut(a.version,c,{accountImplementationAddress:i,factoryAddress:r,metaFactoryAddress:o});let V,L;const U=async()=>V||(V=t.chain?t.chain.id:await pe(t,z,"getChainId")({}),V),be=async()=>L||(L=await Qe(t,f,c,await U()),L),T=ne(e)?e:await Be(t,{sudo:l?D:e==null?void 0:e.sudo,regular:e==null?void 0:e.regular,hook:e==null?void 0:e.hook,action:e==null?void 0:e.action,pluginEnableSignature:e==null?void 0:e.pluginEnableSignature,entryPoint:a,kernelVersion:c,chainId:await U()}),Ne=!!(ne(e)?e.hook&&e.getIdentifier()===((me=e.sudoValidator)==null?void 0:me.getIdentifier()):e!=null&&e.hook&&!(e!=null&&e.regular)),W=async()=>{if(s)return"0x";if(!h||!N)throw new Error("Missing account logic address or factory address");return Lt({index:n,factoryAddress:N,accountImplementationAddress:h,entryPointVersion:a.version,kernelPluginManager:T,initHook:Ne,kernelVersion:c,initConfig:d,useMetaFactory:B})},K=async()=>s?{factory:void 0,factoryData:void 0}:{factory:a.version==="0.6"||B===!1?N:P,factoryData:await W()};let f=u??(s?(l==null?void 0:l.address)??v:await(async()=>{const{factory:p,factoryData:b}=await K();if(!p||!b)throw new Error("Missing factory address or factory data");return await R(t,{factory:p,factoryData:b,entryPointAddress:a.address})})());Z(f,v)&&B&&(B=!1,f=await R(t,{factory:N,factoryData:await W(),entryPointAddress:a.address}),Z(f,v)&&(B=!0));const Ve={address:(a==null?void 0:a.address)??ht,abi:((a==null?void 0:a.version)??"0.7")==="0.6"?de:Ke,version:(a==null?void 0:a.version)??"0.7"},g={pendingPlugins:m||[],allInstalled:!1},fe=async()=>{if(!g.pendingPlugins.length||g.allInstalled){g.allInstalled=!0;return}const p=await Promise.all(g.pendingPlugins.map(b=>He(t,{address:f,plugin:b})));g.pendingPlugins=g.pendingPlugins.filter((b,x)=>!p[x]),g.allInstalled=g.pendingPlugins.length===0},Pe=async()=>{const p=await bt(t,{address:f});if(!p||p.length===0||!p.toLowerCase().startsWith(`0xef0100${h.slice(2).toLowerCase()}`)){if(E&&!Z(E.address,h))throw new Error("EIP-7702 authorization delegate address does not match account implementation address");const b=E??await ft(t,{account:l,address:h,chainId:await U()});if(!await mt({authorization:b,address:f}))throw new Error("Authorization verification failed");return b}};return await fe(),oe({authorization:s?{account:l??Nt(f),address:h}:void 0,kernelVersion:c,kernelPluginManager:T,accountImplementationAddress:h,factoryAddress:(await K()).factory,generateInitCode:W,encodeModuleInstallCallData:async()=>await T.encodeModuleInstallCallData(f),nonceKeyManager:ce({source:{get:()=>0,set:()=>{}}}),client:t,entryPoint:Ve,getFactoryArgs:K,async getAddress(){if(f)return f;const{factory:p,factoryData:b}=await K();if(!p||!b)throw new Error("Missing factory address or factory data");return f=await R(t,{factory:p,factoryData:b,entryPointAddress:a.address}),f},async encodeDeployCallData(p){return a.version==="0.6"?qe(p):Je(p)},async encodeCalls(p,b,x){if(await fe(),g.pendingPlugins.length>0&&a.version==="0.7"&&T.activeValidatorMode==="sudo"){const I=[];for(const w of g.pendingPlugins)I.push(Ye(f,w));return J([...p,...I],b,e!=null&&e.hook?!0:void 0,x)}return p.length===1&&(!b||b==="call")&&p[0].to.toLowerCase()===f.toLowerCase()?p[0].data??"0x":a.version==="0.6"?$e(p,b):e!=null&&e.hook?J(p,b,!0,x):J(p,b,void 0,x)},eip7702Authorization:Pe,async sign({hash:p}){return this.signMessage({message:p})},async signMessage({message:p,useReplayableSignature:b}){const x=lt(p),{name:I,chainId:w,version:S}=await be();let F;if(s)F=await T.signTypedData({message:{hash:x},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:I,version:S,chainId:b?0:Number(w),verifyingContract:f}});else if(a.version==="0.6"){const O=await Ae(x,{name:I,chainId:Number(w),version:S,verifyingContract:f},b);F=await T.signMessage({message:{raw:O}})}else F=await T.signTypedData({message:{hash:x},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:I,version:S,chainId:b?0:Number(w),verifyingContract:f}});return $(q.ERC1271_WITH_VALIDATOR,S)?(b&&$(q.ERC1271_REPLAYABLE,S)&&(F=M([It,F])),M([T.getIdentifier(),F])):F},async signTypedData(p){const{message:b,primaryType:x,types:I,domain:w}=p,S={EIP712Domain:Fe({domain:w}),...I};ge({domain:w,message:b,primaryType:x,types:S});const F=he(p),{name:O,chainId:Y,version:k}=await be();let _;if(s)_=await T.signTypedData({message:{hash:F},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:O,version:k,chainId:Number(Y),verifyingContract:f}});else if(a.version==="0.6"){const Oe=await Ae(F,{name:O,chainId:Number(Y),version:k,verifyingContract:f});_=await T.signMessage({message:{raw:Oe}})}else _=await T.signTypedData({message:{hash:F},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:O,version:k,chainId:Number(Y),verifyingContract:f}});return $(q.ERC1271_WITH_VALIDATOR,k)?M([T.getIdentifier(),_]):_},async getNonce(p){const b=await T.getNonceKey(f,p==null?void 0:p.key);return ye(t,{address:f,entryPointAddress:a.address,key:b})},async getStubSignature(p){if(!p)throw new Error("No user operation provided");return T.getStubSignature(p)},async signUserOperation(p){const{chainId:b=await U(),...x}=p;return T.signUserOperation({...x,sender:x.sender??await this.getAddress(),chainId:b})}})}const ve="0x8ae01fcf7c655655ff2c6ef907b8b4718ab4e17c",Se=[{type:"function",name:"multiSend",inputs:[{type:"bytes",name:"transactions"}]}],Kt=t=>{const e=At(t.data);return St(["uint8","address","uint256","uint256","bytes"],[t.callType==="delegatecall"?1:0,t.to,t.value||0n,BigInt(e.length),t.data]).slice(2)},Re=t=>{if(!Array.isArray(t))throw new Error("Invalid multiSend calls, should use an array of calls");return`0x${t.map(e=>Kt(e)).join("")}`},kt=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract EIP1967Proxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],ee=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"operation",type:"uint8"}],name:"executeAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"}],Ht={FACTORY_ADDRESS:"0x4E4946298614FC299B50c947289F4aD0572CB9ce"};async function ea(t,{signer:e,address:a,entryPoint:n,index:r=0n}){const i={...e,signTransaction:(y,m)=>{throw new Error("Smart account signer doesn't need to sign transactions")}},o=await z(t),u=async()=>A({abi:kt,functionName:"createAccount",args:[e.address,r]}),c=async()=>({factory:Ht.FACTORY_ADDRESS,factoryData:await u()});let d=a??await(async()=>{const{factory:y,factoryData:m}=await c();return await R(t,{factory:y,factoryData:m,entryPointAddress:n.address})})();if(!d)throw new Error("Account address not found");const C=X({address:d,async signMessage({message:y}){return i.signMessage({message:y})},async signTransaction(y,m){throw new Error("Smart account signer doesn't need to sign transactions")},async signTypedData(y){return i.signTypedData(y)}}),E={address:(n==null?void 0:n.address)??we,abi:de,version:(n==null?void 0:n.version)??"0.6"};return oe({...C,generateInitCode:u,encodeModuleInstallCallData:async()=>{throw new Error("Not implemented")},nonceKeyManager:ce({source:{get:()=>0,set:()=>{}}}),async sign({hash:y}){return C.signMessage({message:y})},async signMessage({message:y}){return C.signMessage({message:y})},async signTypedData(y){return i.signTypedData(y)},async getAddress(){if(d)return d;const{factory:y,factoryData:m}=await c();return d=await R(t,{factory:y,factoryData:m,entryPointAddress:n.address}),d},getFactoryArgs:c,client:t,entryPoint:E,async getNonce(){return ye(t,{address:d,entryPointAddress:n.address})},async signUserOperation(y){const m=xe({userOperation:{...y,sender:y.sender??await this.getAddress(),signature:"0x"},entryPointAddress:n.address,entryPointVersion:n.version,chainId:o});return await se(t,{account:i,message:{raw:m}})},async encodeCalls(y,m){if(y.length>1){if(m==="delegatecall")throw new Error("Cannot batch delegatecall");const l=A({abi:Se,functionName:"multiSend",args:[Re(y)]});return A({abi:ee,functionName:"executeAndRevert",args:[ve,0n,l,1n]})}const s=y.length===0?void 0:y[0];if(!s)throw new Error("No calls to encode");if(!m||m==="call")return s.to.toLowerCase()===d.toLowerCase()?s.data||"0x":A({abi:ee,functionName:"executeAndRevert",args:[s.to,s.value||0n,s.data,0n]});if(m==="delegatecall")return A({abi:ee,functionName:"executeAndRevert",args:[s.to,s.value||0n,s.data,1n]});throw new Error("Invalid call type")},async getStubSignature(){return"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"}})}const te=[{type:"constructor",inputs:[{name:"v1",type:"address",internalType:"contract IValidator"},{name:"v2",type:"address",internalType:"contract IValidator"},{name:"v3",type:"address",internalType:"contract IValidator"},{name:"v4",type:"address",internalType:"contract IValidator"},{name:"v5",type:"address",internalType:"contract IValidator"},{name:"s1",type:"address",internalType:"contract ISigner"},{name:"s2",type:"address",internalType:"contract ISigner"},{name:"s3",type:"address",internalType:"contract ISigner"},{name:"tv1",type:"address",internalType:"contract IValidator"},{name:"tv2",type:"address",internalType:"contract IValidator"},{name:"tv3",type:"address",internalType:"contract IValidator"},{name:"ts1",type:"address",internalType:"contract ISigner"}],stateMutability:"nonpayable"},{type:"function",name:"consumeGas",inputs:[{name:"count",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isMigrated",inputs:[{name:"kernel",type:"address",internalType:"contract Kernel"},{name:"validators",type:"address[]",internalType:"contract IValidator[]"},{name:"pIds",type:"bytes4[]",internalType:"PermissionId[]"}],outputs:[{name:"root",type:"bool",internalType:"bool"},{name:"v",type:"bool[]",internalType:"bool[]"},{name:"p",type:"bool[]",internalType:"bool[]"}],stateMutability:"view"},{type:"function",name:"migrate",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"migrateWithCall",inputs:[{name:"validators",type:"address[]",internalType:"contract IValidator[]"},{name:"permissionIds",type:"bytes4[]",internalType:"bytes4[]"},{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"execData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"migrateWithPermissionId",inputs:[{name:"permissionId",type:"bytes4[]",internalType:"bytes4[]"},{name:"validators",type:"address[]",internalType:"contract IValidator[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"mockSlot",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"usedSlot",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],ae="0x03EB97959433D55748839D27C93330Cb85F31A93";async function ta(t,e){if(e.entryPoint.version!=="0.7")throw new Error("Only EntryPoint 0.7 is supported");const{plugins:{sudo:{migrate:{from:a,to:n}}},...r}=e,i=await Ce(t,{plugins:{sudo:a},...r});let o=!1,u=!1;const c=async()=>{try{if(o)return o;const m=await pe(t,Ct,"readContract")({address:i.address,abi:Q,functionName:"rootValidator",args:[]}),s=M([Mt[n.validatorType],G(n.getIdentifier(),{size:20,dir:"right"})]);return o=m.toLowerCase()===s.toLowerCase(),o}catch{return!1}};if([u,o]=await Promise.all([i.isDeployed(),c()]),u&&o)return Ce(t,{plugins:{sudo:n},...r,address:i.address});const d=A({abi:Q,functionName:"installModule",args:[3n,ae,ie([De(j({abi:te,name:"migrateWithCall"})),v,ue(le("bytes selectorInitData, bytes hookInitData"),[wt.DELEGATE_CALL,"0x0000"])])]}),C={to:i.address,data:d,value:0n},E=A({abi:Q,functionName:"uninstallModule",args:[3n,ae,ie([De(j({abi:te,name:"migrateWithCall"})),"0x"])]}),y={to:i.address,data:E,value:0n};return{...i,getRootValidatorMigrationStatus:c,async encodeCalls(m,s){const l=await c(),D=await i.encodeCalls(m,s);if(l)return D;const{args:[B,h]}=Dt({abi:[j({abi:Ze,name:"execute"})],data:D}),N=A({abi:te,functionName:"migrateWithCall",args:[[],[],B,h]}),P={to:ae,data:N,value:0n};if(e.kernelVersion!=="0.3.0")return i.encodeCalls([P],"delegatecall");P.to=i.address;const V=[C,P,y];return i.encodeCalls(V,"call")}}}const H=[{type:"constructor",inputs:[{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"payable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"disableMode",inputs:[{name:"_disableFlag",type:"bytes4",internalType:"bytes4"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"},{name:"operation",type:"uint8",internalType:"enum Operation"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDefaultValidator",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IKernelValidator"}],stateMutability:"view"},{type:"function",name:"getDisabledMode",inputs:[],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"getExecution",inputs:[{name:"_selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"tuple",internalType:"struct ExecutionDetail",components:[{name:"validUntil",type:"uint48",internalType:"uint48"},{name:"validAfter",type:"uint48",internalType:"uint48"},{name:"executor",type:"address",internalType:"address"},{name:"validator",type:"address",internalType:"contract IKernelValidator"}]}],stateMutability:"view"},{type:"function",name:"getLastDisabledTime",inputs:[],outputs:[{name:"",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_defaultValidator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"setDefaultValidator",inputs:[{name:"_defaultValidator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setExecution",inputs:[{name:"_selector",type:"bytes4",internalType:"bytes4"},{name:"_executor",type:"address",internalType:"address"},{name:"_validator",type:"address",internalType:"contract IKernelValidator"},{name:"_validUntil",type:"uint48",internalType:"uint48"},{name:"_validAfter",type:"uint48",internalType:"uint48"},{name:"_enableData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeTo",inputs:[{name:"_newImplementation",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct UserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"version",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"event",name:"DefaultValidatorChanged",inputs:[{name:"oldValidator",type:"address",indexed:!0,internalType:"address"},{name:"newValidator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ExecutionChanged",inputs:[{name:"selector",type:"bytes4",indexed:!0,internalType:"bytes4"},{name:"executor",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"newImplementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],Gt=[{type:"constructor",inputs:[{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"function",name:"createAccount",inputs:[{name:"_validator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"proxy",type:"address",internalType:"contract EIP1967Proxy"}],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"getAccountAddress",inputs:[{name:"_validator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"kernelTemplate",inputs:[],outputs:[{name:"",type:"address",internalType:"contract TempKernel"}],stateMutability:"view"},{type:"function",name:"nextTemplate",inputs:[],outputs:[{name:"",type:"address",internalType:"contract Kernel"}],stateMutability:"view"},{type:"event",name:"AccountCreated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"data",type:"bytes",indexed:!1,internalType:"bytes"},{name:"index",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],Xt="0x9b35Af71d77eaf8d7e40252370304687390A1A52",zt=Et(["function performCreate(uint256 value, bytes memory deploymentData) public returns (address newContract)","function performCreate2(uint256 value, bytes memory deploymentData, bytes32 salt) public returns (address newContract)"]),Wt={FACTORY_ADDRESS:"0xaee9762ce625e0a8f7b184670fb57c37bfe1d0f1"},Yt=async({index:t,factoryAddress:e,validatorAddress:a,enableData:n})=>M([e,A({abi:Gt,functionName:"createAccount",args:[a,n,t]})]);async function aa(t,{plugins:e,entryPoint:a,index:n=0n,factoryAddress:r=Wt.FACTORY_ADDRESS,address:i}){const o=ne(e)?e:await Be(t,{sudo:e.sudo,regular:e.regular,action:e.action,pluginEnableSignature:e.pluginEnableSignature,kernelVersion:"0.0.2",entryPoint:a}),u=async()=>{const s=await o.getValidatorInitData();return Yt({index:n,factoryAddress:r,validatorAddress:s.validatorAddress,enableData:s.enableData})},c=async()=>({factory:r,factoryData:await u()});let d=i??await(async()=>{const{factory:s,factoryData:l}=await c();return await R(t,{factory:s,factoryData:l,entryPointAddress:a.address})})();const C=X({address:d,async signMessage({message:s}){return o.signMessage({message:s})},async signTransaction(s,l){throw new Error("Smart account signer doesn't need to sign transactions")},async signTypedData(s){const l=s,D={EIP712Domain:Fe({domain:l.domain}),...l.types};ge({domain:l.domain,message:l.message,primaryType:l.primaryType,types:D});const B=he(s);return o.signMessage({message:{raw:B}})}}),E={address:(a==null?void 0:a.address)??we,abi:de,version:(a==null?void 0:a.version)??"0.6"};let y;const m=async()=>y||(y=t.chain?t.chain.id:await pe(t,z,"getChainId")({}),y);return oe({kernelVersion:"0.0.2",client:t,entryPoint:E,kernelPluginManager:o,factoryAddress:r,accountImplementationAddress:Ie["0.0.2"].accountImplementationAddress,generateInitCode:u,encodeModuleInstallCallData:async()=>await o.encodeModuleInstallCallData(d),nonceKeyManager:ce({source:{get:()=>0,set:()=>{}}}),async sign({hash:s}){return C.signMessage({message:s})},async signMessage(s){return C.signMessage(s)},async signTypedData(s){return C.signTypedData(s)},getFactoryArgs:c,async getAddress(){if(d)return d;const{factory:s,factoryData:l}=await c();return d=await R(t,{factory:s,factoryData:l,entryPointAddress:a.address}),d},async getNonce(s){const l=await o.getNonceKey(d,s==null?void 0:s.key);return ye(t,{address:d,entryPointAddress:a.address,key:l})},async signUserOperation(s){const{chainId:l=await m(),...D}=s;return o.signUserOperation({...D,sender:D.sender??await this.getAddress(),chainId:l})},async encodeDeployCallData(s){return A({abi:H,functionName:"execute",args:[Xt,0n,A({abi:zt,functionName:"performCreate",args:[0n,Tt({abi:s.abi,bytecode:s.bytecode,args:s.args})]}),1]})},async encodeCalls(s,l){if(s.length>1){const B=A({abi:Se,functionName:"multiSend",args:[Re(s)]});return A({abi:H,functionName:"execute",args:[ve,0n,B,1]})}const D=s.length===0?void 0:s[0];if(!D)throw new Error("No calls to encode");if(!l||l==="call")return D.to.toLowerCase()===d.toLowerCase()?D.data||"0x":A({abi:H,functionName:"execute",args:[D.to,D.value||0n,D.data||"0x",0]});if(l==="delegatecall")return A({abi:H,functionName:"execute",args:[D.to,0n,D.data||"0x",1]});throw new Error("Invalid call type")},async getStubSignature(s){if(!s)throw new Error("No user operation provided");return o.getStubSignature(s)}})}const $t="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",na=async({signer:t,hash:e,signature:a,client:n})=>(await n.call({data:ie([$t,ue(le("address, bytes32, bytes"),[t,e,a])])})).data==="0x01",Ee=(t,e)=>{const n=xt(re(t)).substring(2,e*2+2);return BigInt(`0x${n}`)},sa=(t,e)=>e==="0.6"?Ee(t,24):Ee(t,2),ra=t=>{const{key:e="public",name:a="ZeroDev Paymaster Client",transport:n}=t;return Bt({...t,transport:i=>n({...i,retryCount:0}),key:e,name:a,type:"zerodevPaymasterClient"}).extend(Rt).extend(je())},ia=(t,e)=>{function a(r){return async(...i)=>{for(let o=0;o<t.length;o++)try{const u=Reflect.get(t[o],r);if(typeof u=="function")return await u(...i)}catch(u){if(console.error(`Action ${String(r)} failed with client ${t[o].transport.url}, trying next if available.`),e!==void 0&&await e(u,t[o].transport.url),o===t.length-1)throw u}}}const n=new Proxy(t[0],{get(r,i,o){if(i==="extend")return c=>{const d=c(n);for(const[C,E]of Object.entries(d))typeof E=="function"?n[C]=async(...y)=>E(...y):console.error(`Expected a function for modification of ${C}, but received type ${typeof E}`);return n};const u=Reflect.get(r,i,o);return typeof u=="function"?a(i):u}});return n},da=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DeploymentFailed",type:"error"},{inputs:[],name:"NewOwnerIsZeroAddress",type:"error"},{inputs:[],name:"NoHandoverRequest",type:"error"},{inputs:[],name:"SaltDoesNotStartWithCaller",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"proxy",type:"address"},{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Deployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pendingOwner",type:"address"}],name:"OwnershipHandoverCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pendingOwner",type:"address"}],name:"OwnershipHandoverRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"cancelOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"pendingOwner",type:"address"}],name:"completeOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"getAccountAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{internalType:"bytes32",name:"result",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isAllowedImplementation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"result",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pendingOwner",type:"address"}],name:"ownershipHandoverExpiresAt",outputs:[{internalType:"uint256",name:"result",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownershipHandoverValidFor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"predictDeterministicAddress",outputs:[{internalType:"address",name:"predicted",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"requestOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],name:"setEntryPoint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bool",name:"_allow",type:"bool"}],name:"setImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"}],oa=[{type:"constructor",inputs:[{name:"_entrypoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"payable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"accountId",inputs:[],outputs:[{name:"accountImplementationId",type:"string",internalType:"string"}],stateMutability:"pure"},{type:"function",name:"changeRootValidator",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"currentNonce",inputs:[],outputs:[{name:"",type:"uint32",internalType:"uint32"}],stateMutability:"view"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"entrypoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"executeUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executorConfig",inputs:[{name:"executor",type:"address",internalType:"contract IExecutor"}],outputs:[{name:"",type:"tuple",internalType:"struct ExecutorManager.ExecutorConfig",components:[{name:"hook",type:"address",internalType:"contract IHook"}]}],stateMutability:"view"},{type:"function",name:"grantAccess",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"allow",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"payable"},{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"installModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"installValidations",inputs:[{name:"vIds",type:"bytes21[]",internalType:"ValidationId[]"},{name:"configs",type:"tuple[]",internalType:"struct ValidationManager.ValidationConfig[]",components:[{name:"nonce",type:"uint32",internalType:"uint32"},{name:"hook",type:"address",internalType:"contract IHook"}]},{name:"validationData",type:"bytes[]",internalType:"bytes[]"},{name:"hookData",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"payable"},{type:"function",name:"invalidateNonce",inputs:[{name:"nonce",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"isAllowedSelector",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"},{name:"selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isModuleInstalled",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"additionalContext",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"permissionConfig",inputs:[{name:"pId",type:"bytes4",internalType:"PermissionId"}],outputs:[{name:"",type:"tuple",internalType:"struct ValidationManager.PermissionConfig",components:[{name:"permissionFlag",type:"bytes2",internalType:"PassFlag"},{name:"signer",type:"address",internalType:"contract ISigner"},{name:"policyData",type:"bytes22[]",internalType:"PolicyData[]"}]}],stateMutability:"view"},{type:"function",name:"replayableUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"entryPoint",type:"address",internalType:"address"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"rootValidator",inputs:[],outputs:[{name:"",type:"bytes21",internalType:"ValidationId"}],stateMutability:"view"},{type:"function",name:"selectorConfig",inputs:[{name:"selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"tuple",internalType:"struct SelectorManager.SelectorConfig",components:[{name:"hook",type:"address",internalType:"contract IHook"},{name:"target",type:"address",internalType:"address"},{name:"callType",type:"bytes1",internalType:"CallType"}]}],stateMutability:"view"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"mode",type:"bytes32",internalType:"ExecMode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"pure"},{type:"function",name:"supportsModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"pure"},{type:"function",name:"uninstallModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"uninstallValidation",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"},{name:"deinitData",type:"bytes",internalType:"bytes"},{name:"hookDeinitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeTo",inputs:[{name:"_newImplementation",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validNonceFrom",inputs:[],outputs:[{name:"",type:"uint32",internalType:"uint32"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"ValidationData"}],stateMutability:"payable"},{type:"function",name:"validationConfig",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"}],outputs:[{name:"",type:"tuple",internalType:"struct ValidationManager.ValidationConfig",components:[{name:"nonce",type:"uint32",internalType:"uint32"},{name:"hook",type:"address",internalType:"contract IHook"}]}],stateMutability:"view"},{type:"event",name:"ModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"ModuleUninstallResult",inputs:[{name:"module",type:"address",indexed:!1,internalType:"address"},{name:"result",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ModuleUninstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"NonceInvalidated",inputs:[{name:"nonce",type:"uint32",indexed:!1,internalType:"uint32"}],anonymous:!1},{type:"event",name:"PermissionInstalled",inputs:[{name:"permission",type:"bytes4",indexed:!1,internalType:"PermissionId"},{name:"nonce",type:"uint32",indexed:!1,internalType:"uint32"}],anonymous:!1},{type:"event",name:"PermissionUninstalled",inputs:[{name:"permission",type:"bytes4",indexed:!1,internalType:"PermissionId"}],anonymous:!1},{type:"event",name:"Received",inputs:[{name:"sender",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"RootValidatorUpdated",inputs:[{name:"rootValidator",type:"bytes21",indexed:!1,internalType:"ValidationId"}],anonymous:!1},{type:"event",name:"SelectorSet",inputs:[{name:"selector",type:"bytes4",indexed:!1,internalType:"bytes4"},{name:"vId",type:"bytes21",indexed:!1,internalType:"ValidationId"},{name:"allowed",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorInstalled",inputs:[{name:"validator",type:"address",indexed:!1,internalType:"contract IValidator"},{name:"nonce",type:"uint32",indexed:!1,internalType:"uint32"}],anonymous:!1},{type:"event",name:"ValidatorUninstalled",inputs:[{name:"validator",type:"address",indexed:!1,internalType:"contract IValidator"}],anonymous:!1},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"EnableNotApproved",inputs:[]},{type:"error",name:"ExecutionReverted",inputs:[]},{type:"error",name:"InitConfigError",inputs:[{name:"idx",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCallType",inputs:[]},{type:"error",name:"InvalidCaller",inputs:[]},{type:"error",name:"InvalidExecutor",inputs:[]},{type:"error",name:"InvalidFallback",inputs:[]},{type:"error",name:"InvalidMode",inputs:[]},{type:"error",name:"InvalidModuleType",inputs:[]},{type:"error",name:"InvalidNonce",inputs:[]},{type:"error",name:"InvalidSelector",inputs:[]},{type:"error",name:"InvalidSelectorData",inputs:[]},{type:"error",name:"InvalidSignature",inputs:[]},{type:"error",name:"InvalidValidationType",inputs:[]},{type:"error",name:"InvalidValidator",inputs:[]},{type:"error",name:"NonceInvalidationError",inputs:[]},{type:"error",name:"NotSupportedCallType",inputs:[]},{type:"error",name:"OnlyExecuteUserOp",inputs:[]},{type:"error",name:"PermissionDataLengthMismatch",inputs:[]},{type:"error",name:"PermissionNotAlllowedForSignature",inputs:[]},{type:"error",name:"PermissionNotAlllowedForUserOp",inputs:[]},{type:"error",name:"PolicyDataTooLarge",inputs:[]},{type:"error",name:"PolicyFailed",inputs:[{name:"i",type:"uint256",internalType:"uint256"}]},{type:"error",name:"PolicySignatureOrderError",inputs:[]},{type:"error",name:"RootValidatorCannotBeRemoved",inputs:[]},{type:"error",name:"SignerPrefixNotPresent",inputs:[]}],ca=[{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"transfer20Action",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"transferERC1155Action",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"transferERC721Action",outputs:[],stateMutability:"nonpayable",type:"function"}],ya={1:{ABT:"0xB98d4C97425d9908E66E53A6fDf673ACcA0BE986",ACH:"0xEd04915c23f00A313a544955524EB7DBD823143d",ADX:"0xADE00C28244d5CE17D72E40330B1c318cD12B7c3",AGLD:"0x32353A6C91143bfd6C7d363B546e62a9A2489A20",AIOZ:"0x626E8036dEB333b408Be468F951bdB42433cBF18",ALEPH:"0x27702a26126e0B3702af63Ee09aC4d1A084EF628",ALI:"0x6B0b3a982b4634aC68dD83a4DBF02311cE324181",ALICE:"0xAC51066d7bEC65Dc4589368da368b212745d63E8",ALPHA:"0xa1faa113cbE53436Df28FF0aEe54275c13B40975",AMP:"0xfF20817765cB7f73d4bde2e66e067E58D11095C2",ANKR:"0x8290333ceF9e6D528dD5618Fb97a76f268f3EDD4",ANT:"0xa117000000f279D81A1D3cc75430fAA017FA5A2e",APE:"0x4d224452801ACEd8B2F0aebE155379bb5D594381",API3:"0x0b38210ea11411557c13457D4dA7dC6ea731B88a",ARB:"0xB50721BCf8d664c30412Cfbc6cf7a15145234ad1",ASM:"0x2565ae0385659badCada1031DB704442E1b69982",AUDIO:"0x18aAA7115705e8be94bfFEBDE57Af9BFc265B998",AXL:"0x467719aD09025FcC6cF6F8311755809d45a5E5f3",AXS:"0xBB0E17EF65F82Ab018d8EDd776e8DD940327B28b",BADGER:"0x3472A5A71965499acd81997a54BBA8D852C6E53d",BAL:"0xba100000625a3754423978a60c9317c58a424e3D",BIGTIME:"0x64Bc2cA1Be492bE7185FAA2c8835d9b824c8a194",BIT:"0x1A4b46696b2bB4794Eb3D4c26f1c55F9170fa4C5",BLUR:"0x5283D291DBCF85356A21bA090E6db59121208b44",BLZ:"0x5732046A883704404F284Ce41FfADd5b007FD668",BNT:"0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C",BOND:"0x0391D2021f89DC339F60Fff84546EA23E337750f",BTRST:"0x799ebfABE77a6E34311eeEe9825190B9ECe32824",BUSD:"0x4Fabb145d64652a948d72533023f6E7A623C7C53",CBETH:"0xBe9895146f7AF43049ca1c1AE358B0541Ea49704",CELR:"0x4F9254C83EB525f9FCf346490bbb3ed28a81C667",CHR:"0x8A2279d4A90B6fe1C4B30fa660cC9f926797bAA2",CHZ:"0x3506424F91fD33084466F402d5D97f05F8e3b4AF",COTI:"0xDDB3422497E61e13543BeA06989C0789117555c5",COVAL:"0x3D658390460295FB963f54dC0899cfb1c30776Df",CQT:"0xD417144312DbF50465b1C641d016962017Ef6240",CRO:"0xA0b73E1Ff0B80914AB6fe0444E65848C4C34450b",CRPT:"0x08389495D7456E1951ddF7c3a1314A4bfb646d8B",CRV:"0xD533a949740bb3306d119CC777fa900bA034cd52",CTSI:"0x491604c0FDF08347Dd1fa4Ee062a822A5DD06B5D",CUBE:"0xDf801468a808a32656D2eD2D2d80B72A129739f4",CVC:"0x41e5560054824eA6B0732E656E3Ad64E20e94E45",CVX:"0x4e3FBD56CD56c3e72c1403e103b45Db9da5B9D2B",DAI:"0x6B175474E89094C44Da98b954EedeAC495271d0F",DAR:"0x081131434f93063751813C619Ecca9C4dC7862a3",DDX:"0x3A880652F47bFaa771908C07Dd8673A787dAEd3A",DENT:"0x3597bfD533a99c9aa083587B074434E61Eb0A258",DEXT:"0xfB7B4564402E5500dB5bB6d63Ae671302777C75a",DIA:"0x84cA8bc7997272c7CfB4D0Cd3D55cd942B3c9419",DPI:"0x1494CA1F11D487c2bBe4543E90080AeBa4BA3C2b",DYP:"0x961C8c0B1aaD0c0b10a51FeF6a867E3091BCef17",ELA:"0xe6fd75ff38Adca4B97FBCD938c86b98772431867",ELON:"0x761D38e5ddf6ccf6Cf7c55759d5210750B5D60F3",ENJ:"0xF629cBd94d3791C9250152BD8dfBDF380E2a3B9c",ENS:"0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72",ERN:"0xBBc2AE13b23d715c30720F079fcd9B4a74093505",EUL:"0xd9Fcd98c322942075A5C3860693e9f4f03AAE07b",EURC:"0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c",FARM:"0xa0246c9032bC3A600820415aE600c6388619A14D",FET:"0xaea46A60368A7bD060eec7DF8CBa43b7EF41Ad85",FIS:"0xef3A930e1FfFFAcd2fc13434aC81bD278B0ecC8d",FORTH:"0x77FbA179C79De5B7653F68b5039Af940AdA60ce0",FRAX:"0x853d955aCEf822Db058eb8505911ED77F175b99e",FTM:"0x4E15361FD6b4BB609Fa63C81A2be19d873717870",FXS:"0x3432B6A60D23Ca0dFCa7761B7ab56459D9C964D0",GAL:"0x5fAa989Af96Af85384b8a938c2EdE4A7378D9875",GFI:"0xdab396cCF3d84Cf2D07C4454e10C8A6F5b008D2b",GHST:"0x3F382DbD960E3a9bbCeaE22651E88158d2791550",GLM:"0x7DD9c5Cba05E151C895FDe1CF355C9A1D5DA6429",GNO:"0x6810e776880C02933D47DB1b9fc05908e5386b96",GODS:"0xccC8cb5229B0ac8069C51fd58367Fd1e622aFD97",GRT:"0xc944E90C64B2c07662A292be6244BDf05Cda44a7",GTC:"0xDe30da39c46104798bB5aA3fe8B9e0e1F348163F",GUSD:"0x056Fd409E1d7A124BD7017459dFEa2F387b6d5Cd",HFT:"0xb3999F658C0391d94A37f7FF328F3feC942BcADC",HIGH:"0x71Ab77b7dbB4fa7e017BC15090b2163221420282",ILV:"0x767FE9EDC9E0dF98E07454847909b5E959D7ca0E",IMX:"0xF57e7e7C23978C3cAEC3C3548E3D615c346e79fF",INDEX:"0x0954906da0Bf32d5479e25f46056d22f08464cab",INJ:"0xe28b3B32B6c345A34Ff64674606124Dd5Aceca30",INV:"0x41D5D79431A913C4aE7d69a668ecdfE5fF9DFB68",IOTX:"0x6fB3e0A217407EFFf7Ca062D46c26E5d60a14d69",JASMY:"0x7420B4b9a0110cdC71fB720908340C03F9Bc03EC",JUP:"0x4B1E80cAC91e2216EEb63e29B957eB91Ae9C2Be8",KEEP:"0x85Eee30c52B0b379b046Fb0F85F4f3Dc3009aFEC",KP3R:"0x1cEB5cB57C4D4E2b2433641b95Dd330A33185A44",LCX:"0x037A54AaB062628C9Bbae1FDB1583c195585fe41",LDO:"0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32",LINK:"0x514910771AF9Ca656af840dff83E8264EcF986CA",LOKA:"0x61E90A50137E1F645c9eF4a0d3A4f01477738406",LPT:"0x58b6A8A3302369DAEc383334672404Ee733aB239",LQTY:"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D",LRC:"0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD",LUSD:"0x5f98805A4E8be255a32880FDeC7F6728C6568bA0",MANA:"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942",MASK:"0x69af81e73A73B40adF4f3d4223Cd9b1ECE623074",MATH:"0x08d967bb0134F2d07f7cfb6E246680c53927DD30",MATIC:"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0",MCO2:"0xfC98e825A2264D890F9a1e68ed50E1526abCcacD",MDT:"0x814e0908b12A99FeCf5BC101bB5d0b8B5cDf7d26",METIS:"0x9E32b13ce7f2E80A01932B42553652E053D6ed8e",MIM:"0x99D8a9C45b2ecA8864373A26D1459e3Dff1e17F3",MIR:"0x09a3EcAFa817268f77BE1283176B946C4ff2E608",MLN:"0xec67005c4E498Ec7f55E092bd1d35cbC47C91892",MONA:"0x275f5Ad03be0Fa221B4C6649B8AeE09a42D9412A",MPL:"0x33349B282065b0284d756F0577FB39c158F935e6",MTL:"0xF433089366899D83a9f26A773D59ec7eCF30355e",MUSE:"0xB6Ca7399B4F9CA56FC27cBfF44F4d2e4Eef1fc81",MXC:"0x5Ca381bBfb58f0092df149bD3D243b08B9a8386e",NCT:"0x9E46A38F5DaaBe8683E10793b06749EEF7D733d1",NEXO:"0xB62132e35a6c13ee1EE0f84dC5d40bad8d815206",NMR:"0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671",OCEAN:"0x967da4048cD07aB37855c090aAF366e4ce1b9F48",OGN:"0x8207c1FfC5B6804F6024322CcF34F29c3541Ae26",ONEINCH:"0x111111111117dC0aa78b770fA6A738034120C302",ORN:"0x0258F474786DdFd37ABCE6df6BBb1Dd5dfC4434a",OXT:"0x4575f41308EC1483f3d399aa9a2826d74Da13Deb",PAXG:"0x45804880De22913dAFE09f4980848ECE6EcbAf78",PERP:"0xbC396689893D065F41bc2C6EcbeE5e0085233447",PLA:"0x3a4f40631a4f906c2BaD353Ed06De7A5D3fCb430",POLS:"0x83e6f1E41cdd28eAcEB20Cb649155049Fac3D5Aa",POLY:"0x9992eC3cF6A55b00978cdDF2b27BC6882d88D1eC",POWR:"0x595832F8FC6BF59c85C527fEC3740A1b7a361269",PRIME:"0xb23d80f5FefcDDaa212212F028021B41DEd428CF",PRQ:"0x362bc847A3a9637d3af6624EeC853618a43ed7D2",PYUSD:"0x6c3ea9036406852006290770BEdFcAbA0e23A0e8",QNT:"0x4a220E6096B25EADb88358cb44068A3248254675",QUICK:"0x6c28AeF8977c9B773996d0e8376d2EE379446F2f",RAD:"0x31c8EAcBFFdD875c74b94b077895Bd78CF1E64A3",RAI:"0x03ab458634910AaD20eF5f1C8ee96F1D6ac54919",RARE:"0xba5BDe662c17e2aDFF1075610382B9B691296350",RARI:"0xFca59Cd816aB1eaD66534D82bc21E7515cE441CF",REN:"0x408e41876cCCDC0F92210600ef50372656052a38",REP:"0x1985365e9f78359a9B6AD760e32412f4a445E862",REQ:"0x8f8221aFbB33998d8584A2B05749bA73c37a938a",REVV:"0x557B933a7C2c45672B610F8954A3deB39a51A8Ca",RLC:"0x607F4C5BB672230e8672085532f7e901544a7375",RLY:"0xf1f955016EcbCd7321c7266BccFB96c68ea5E49b",RNDR:"0x6De037ef9aD2725EB40118Bb1702EBb27e4Aeb24",SHIB:"0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE",SNT:"0x744d70FDBE2Ba4CF95131626614a1763DF805B9E",SOL:"0xD31a59c85aE9D8edEFeC411D448f90841571b89c",SPELL:"0x090185f2135308BaD17527004364eBcC2D37e5F6",STORJ:"0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC",SUPER:"0xe53EC727dbDEB9E2d5456c3be40cFF031AB40A55",SUSHI:"0x6B3595068778DD592e39A122f4f5a5cF09C90fE2",SWFTC:"0x0bb217E40F8a5Cb79Adf04E1aAb60E5abd0dfC1e",SYLO:"0xf293d23BF2CDc05411Ca0edDD588eb1977e8dcd4",SYN:"0x0f2D719407FdBeFF09D87557AbB7232601FD9F29",TBTC:"0x18084fbA666a33d37592fA2633fD49a74DD93a88",TOKE:"0x2e9d63788249371f1DFC918a52f8d799F4a38C94",TONE:"0x2Ab6Bb8408ca3199B8Fa6C92d5b455F820Af03c4",TRAC:"0xaA7a9CA87d3694B5755f213B5D04094b8d0F0A6F",TRB:"0x88dF592F8eb5D7Bd38bFeF7dEb0fBc02cf3778a0",TRIBE:"0xc7283b66Eb1EB5FB86327f08e1B5816b0720212B",TRU:"0x4C19596f5aAfF459fA38B0f7eD92F11AE6543784",TVK:"0xd084B83C305daFD76AE3E1b4E1F1fe2eCcCb3988",UNI:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",USDC:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",VGX:"0x3C4B6E6e1eA3D4863700D7F76b36B7f3D3f13E3d",WAMPL:"0xEDB171C18cE90B633DB442f2A6F72874093b49Ef",WBTC:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",WETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",XCN:"0xA2cd3D43c775978A96BdBf12d733D5A1ED94fb18",XSGD:"0x70e8dE73cE538DA2bEEd35d14187F6959a8ecA96",YFI:"0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e",YFII:"0xa1d0E215a23d7030842FC67cE582a6aFa3CCaB83"},5:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F"},10:{AAVE:"0x76FB31fb4af56892A25e32cFC43De717950c9278",CRV:"0x0994206dfE8De6Ec6920FF4D779B0d950605Fb53",DAI:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",ENS:"0x65559aA14915a70190438eF90104769e5E890A00",FRAX:"0x2E3D870790dC77A83DD1d18184Acc7439A53f475",LDO:"0xFdb794692724153d1488CcdBE0C56c252596735F",LINK:"0x350a791Bfc2C21F9Ed5d10980Dad2e2638ffa7f6",LUSD:"0xc40F949F8a4e094D1b49a23ea9241D289B7b2819",OP:"0x4200000000000000000000000000000000000042",PEPE:"0xC1c167CC44f7923cd0062c4370Df962f9DDB16f5",PERP:"0x9e1028F5F1D5eDE59748FFceE5532509976840E0",RAI:"0x7FB688CCf682d58f86D7e38e03f9D22e7705448B",UNI:"0x6fd9d7AD17242c41f7131d257212c54A0e816691",USDC:"0x0b2C639c533813f4Aa9D7837CAf62653d097Ff85",USDT:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",WBTC:"0x68f180fcCe6836688e9084f035309E29Bf0A2095",WETH:"0x4200000000000000000000000000000000000006"},56:{AAVE:"0xfb6115445Bff7b52FeB98650C87f44907E58f802",ADA:"0x3ee2200efb3400fabb9aacf31297cbdd1d435d47",AVAX:"0x1ce0c2827e2ef14d5c4f29a091d735a204794041",BTCB:"0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c",BUSD:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",CAKE:"0x0e09fabb73bd3ade0a17ecc321fd13a19e81ce82",DAI:"0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3",DOGE:"0xba2ae424d960c26247dd6c32edc70b295c744c43",DOT:"0x7083609fce4d1d8dc0c979aab8c869ea2c873402",ETH:"0x2170Ed0880ac9A755fd29B2688956BD959F933F8",FET:"0x031b41e504677879370e9DBcF937283A8691Fa7f",FRAX:"0x90C97F71E18723b0Cf0dfa30ee176Ab653E89F40",FTM:"0xAD29AbB318791D579433D831ed122aFeAf29dcfe",HIGH:"0x5f4Bde007Dc06b867f86EBFE4802e34A1fFEEd63",HOOK:"0xa260e12d2b924cb899ae80bb58123ac3fee1e2f0",LINK:"0xF8A0BF9cF54Bb92F17374d9e9A321E6a111a51bD",MATIC:"0xCC42724C6683B7E57334c4E856f4c9965ED682bD",MBOX:"0x3203c9e46ca618c8c1ce5dc67e7e9d75f5da2377",MIM:"0xfE19F0B51438fd612f6FD59C1dbB3eA319f433Ba",SHIB:"0x2859e4544c4bb03966803b044a93563bd2d0dd4d",STG:"0xB0D502E938ed5f4df2E681fE6E419ff29631d62b",TRON:"0xce7de646e7208a4ef112cb6ed5038fa6cc6b12e3",TWT:"0x4B0F1812e5Df2A09796481Ff14017e6005508003",UNI:"0xBf5140A22578168FD562DCcF235E5D43A02ce9B1",USDC:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",USDT:"0x55d398326f99059fF775485246999027B3197955",WBNB:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",XRP:"0x1d2f0da169ceb9fc7b3144628db156f3f6c60dbe"},97:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x16227D60f7a0e586C66B005219dfc887D13C9531"},137:{AAVE:"0xD6DF932A45C0f255f85145f286eA0b292B21C90B",AGEUR:"0xE0B52e49357Fd4DAf2c15e02058DCE6BC0057db4",ANKR:"0x101A023270368c0D50BFfb62780F4aFd4ea79C35",BUSD:"0xdAb529f40E671A1D4bF91361c21bf9f0C9712ab7",COMP:"0x8505b9d2254A7Ae468c0E9dd10Ccea3A837aef5c",CRV:"0x172370d5Cd63279eFa6d502DAB29171933a610AF",DAI:"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",DPI:"0x85955046DF4668e1DD369D2DE9f3AEB98DD2A369",DYDX:"0x4C3bF0a3DE9524aF68327d1D2558a3B70d17D42a",FORT:"0x9ff62d1FC52A907B6DCbA8077c2DDCA6E6a9d3e1",FRAX:"0x104592a158490a9228070E0A8e5343B499e125D0",GHST:"0x385Eeac5cB85A38A9a07A70c73e0a3271CfB54A7",GNS:"0xE5417Af564e4bFDA1c483642db72007871397896",GRT:"0x5fe2B58c013d7601147DcdD68C143A77499f5531",IOTX:"0xf6372cDb9c1d3674E83842e3800F2A62aC9F3C66",LDO:"0xC3C7d422809852031b44ab29EEC9F1EfF2A58756",LINK:"0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39",MANA:"0xA1c57f48F0Deb89f569dFbE6E2B7f46D33606fD4",MKR:"0x6f7C932e7684666C9fd1d44527765433e01fF61d",MLN:"0xa9f37D84c856fDa3812ad0519Dad44FA0a3Fe207",ONEINCH:"0x9c2C5fd7b07E95EE044DDeba0E97a665F142394f",OXT:"0x9880e3dDA13c8e7D4804691A45160102d31F6060",RNDR:"0x61299774020dA444Af134c82fa83E3810b309991",SHIB:"0x6f8a06447Ff6FcF75d803135a7de15CE88C1d4ec",SNX:"0x50B728D8D964fd00C2d0AAD81718b71311feF68a",SUSHI:"0x0b3F868E0BE5597D5DB7fEB59E1CADBb0fdDa50a",UNI:"0xb33EaAd8d922B1083446DC23f610c2567fB5180f",USDC:"0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359",USDCe:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",USDT:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",VOXEL:"0xd0258a3fD00f38aa8090dfee343f10A9D4d30D3F",WBTC:"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6",WETH:"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619"},420:{ECO:"0x54bBECeA38ff36D32323f8A754683C1F5433A89f","6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0xe05606174bac4A6364B31bd0eCA4bf4dD368f8C6"},8453:{DAI:"0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb",PRIME:"0xfA980cEd6895AC314E7dE34Ef1bFAE90a5AdD21b",TBTC:"0x236aa50979D5f3De3Bd1Eeb40E81137F22ab794b",USDbC:"0xd9aAEc86B65D86f6A7B5B1b0c42FFA531710b6CA",USDC:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",WAMPL:"0x489fe42C267fe0366B16b0c39e7AEEf977E841eF",WETH:"0x4200000000000000000000000000000000000006"},42161:{AAVE:"0xba5DdD1f9d7F570dc94a51479a000E3BCE967196",ARB:"0x912ce59144191c1204e64559fe8253a0e49e6548",BADGER:"0xBfa641051Ba0a0Ad1b0AcF549a89536A0D76472E",BAL:"0x040d1edc9569d4bab2d15287dc5a4f10f56a56b8",CBETH:"0x1DEBd73E752bEaF79865Fd6446b0c970EaE7732f",COMP:"0x354A6dA3fcde098F8389cad84b0182725c6C91dE",CRV:"0x11cDb42B0EB46D95f990BeDD4695A6e3fA034978",CTX:"0x84F5c2cFba754E76DD5aE4fB369CfC920425E12b",DAI:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",FRAX:"0x17fc002b466eec40dae837fc4be5c67993ddbd6f",GMX:"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a",GRT:"0x9623063377AD1B27544C965cCd7342f7EA7e88C7",KYBER:"0xe4dddfe67e7164b0fe14e218d80dc4c08edc01cb",LDO:"0x13Ad51ed4F1B7e9Dc168d8a00cB3f4dDD85EfA60",LINK:"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4",LPT:"0x289ba1701C2F088cf0faf8B3705246331cB8A839",LUSD:"0x93b346b6BC2548dA6A1E7d98E9a421B42541425b",MATIC:"0x561877b6b3DD7651313794e5F2894B2F18bE0766",SNX:"0xcBA56Cd8216FCBBF3fA6DF6137F3147cBcA37D60",SPELL:"0x3E6648C5a70A150A88bCE65F4aD4d506Fe15d2AF",SUSHI:"0xd4d42F0b6DEF4CE0383636770eF773390d85c61A",TUSD:"0x4d15a3a2286d883af0aa1b3f21367843fac63e07",UNI:"0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0",USDC:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",USDCe:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",USDT:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",WBTC:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",WETH:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1"},43113:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x5425890298aed601595a70AB815c96711a31Bc65"},43114:{BENQI:"0x8729438eb15e2c8b576fcc6aecda6a148776c0f5",BUSDe:"0x19860ccb0a68fd4213ab9d8266f7bbf05a8dde98",DAIe:"0xd586e7f844cea2f87f50152665bcbc2c279d8d70",EURC:"0xC891EB4cbdEFf6e073e859e987815Ed1505c2ACD",JOE:"0x6e84a6216ea6dacc71ee8e6b0a5b7322eebc0fdd",MIM:"0x130966628846BFd36ff31a822705796e8cb8C18D",PNG:"0x60781c2586d68229fde47564546784ab3faca982",STG:"0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590",USDC:"0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e",USDCe:"0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664",USDT:"0x9702230A8Ea53601f5cD2dc00fDBc13d4dF4A8c7",USDTe:"0xc7198437980c041c805a1edcba50c1ce5db95118",WAVAX:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",WBTC:"0x50b7545627a5162F82A992c33b87aDc75187B218",WETH:"0x49D5c2BdFfac6CE2BFdB6640F4F80f226bc10bAB"},80001:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x9999f7Fea5938fD3b1E26A12c3f2fb024e194f97"},84531:{ECO:"0x7ea172aa6DFe9bEceef679D4Cf90E600e89b9969","6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0xF175520C52418dfE19C8098071a252da48Cd1C19"},84532:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"},421613:{USDC:"0xfd064A18f3BF249cf1f87FC203E90D8f650f2d63","6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"},421614:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"},11155111:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238"},11155420:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"}};class pa extends Ft.EventEmitter{constructor(e){super(),Object.defineProperty(this,"kernelClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.kernelClient=e}async request({method:e,params:a=[]}){switch(e){case"eth_requestAccounts":return this.handleEthRequestAccounts();case"eth_accounts":return this.handleEthAccounts();case"eth_sendTransaction":return this.handleEthSendTransaction(a);case"eth_sign":return this.handleEthSign(a);case"personal_sign":return this.handlePersonalSign(a);case"eth_signTypedData":case"eth_signTypedData_v4":return this.handleEthSignTypedDataV4(a);default:return this.kernelClient.transport.request({method:e,params:a})}}async handleEthRequestAccounts(){return this.kernelClient.account?[this.kernelClient.account.address]:[]}async handleEthAccounts(){return this.kernelClient.account?[this.kernelClient.account.address]:[]}async handleEthSendTransaction(e){const[a]=e;return this.kernelClient.sendTransaction({...a,value:a.value?gt(a.value):void 0})}async handleEthSign(e){var r;if(!((r=this.kernelClient)!=null&&r.account))throw new Error("account not connected!");const[a,n]=e;if(a.toLowerCase()!==this.kernelClient.account.address.toLowerCase())throw new Error("cannot sign for address that is not the current account");return this.kernelClient.signMessage({message:n,account:this.kernelClient.account})}async handlePersonalSign(e){var r;if(!((r=this.kernelClient)!=null&&r.account))throw new Error("account not connected!");const[a,n]=e;if(n.toLowerCase()!==this.kernelClient.account.address.toLowerCase())throw new Error("cannot sign for address that is not the current account");return this.kernelClient.signMessage({message:a,account:this.kernelClient.account})}async handleEthSignTypedDataV4(e){var i;if(!((i=this.kernelClient)!=null&&i.account))throw new Error("account not connected!");const[a,n]=e,r=JSON.parse(n);if(a.toLowerCase()!==this.kernelClient.account.address.toLowerCase())throw new Error("cannot sign for address that is not the current account");return this.kernelClient.signTypedData({account:this.kernelClient.account,domain:r.domain,types:r.types,message:r.message,primaryType:r.primaryType})}}const ua=t=>{const e=new URL(t),a=e.searchParams;return a.has("bundlerProvider")?a.set("bundlerProvider","PIMLICO"):a.has("paymasterProvider")?a.set("paymasterProvider","PIMLICO"):a.set("provider","PIMLICO"),e.search=a.toString(),e.toString()},la=(t,e)=>{const n=new URL(t).searchParams;return(n.get("provider")??n.get("bundlerProvider")??n.get("paymasterProvider"))===e},ba=async({plugin:t,entryPoint:e,kernelVersion:a,hook:n,action:r})=>{if(!et(a,">0.3.0"))throw new Error("Kernel version must be greater than 0.3.0");return{type:vt.VALIDATOR,address:t.address,data:M([(n==null?void 0:n.getIdentifier())??v,ue(le("bytes validatorData, bytes hookData, bytes selectorData"),[await t.getEnableData(),await(n==null?void 0:n.getEnableData())??"0x",(r==null?void 0:r.selector)??tt(e.version)])])}};export{Aa as AccountNotFoundError,Da as EIP1271Abi,jt as KERNEL_ADDRESSES,q as KERNEL_FEATURES,Ca as KERNEL_FEATURES_BY_VERSION,Ea as KernelAccountAbi,pa as KernelEIP1193Provider,da as KernelFactoryAbi,Ge as KernelFactoryStakerAbi,Q as KernelV3AccountAbi,Ze as KernelV3ExecuteAbi,Pt as KernelV3FactoryAbi,ze as KernelV3InitAbi,We as KernelV3_1AccountAbi,oa as KernelV3_3AccountAbi,Ta as SignTransactionNotSupportedBySmartAccountError,ca as TokenActionsAbi,Qe as accountMetadata,Nt as addressToEmptyAccount,xa as changeSudoValidator,Ka as constants,ia as createFallbackKernelAccountClient,Ce as createKernelAccount,Jt as createKernelAccountClient,aa as createKernelAccountV0_2,ea as createKernelAccountV1,ta as createKernelMigrationAccount,ra as createZeroDevPaymasterClient,Ba as deepHexlify,Ae as eip712WrapHash,$e as encodeCallDataEpV06,J as encodeCallDataEpV07,qe as encodeDeployCallDataV06,Je as encodeDeployCallDataV07,Fa as fixSignedData,ya as gasTokenAddresses,tt as getActionSelector,sa as getCustomNonceKeyFromString,ga as getERC20PaymasterApproveCall,ha as getEncodedPluginsData,Ia as getExecMode,wa as getKernelV3Nonce,Ma as getPluginsEnableTypedData,va as getUpgradeKernelCall,Sa as getUserOperationGasPrice,ba as getValidatorPluginInstallModuleData,$ as hasKernelFeature,Ra as invalidateNonce,Na as isPluginInitialized,la as isProviderSet,Va as kernelAccountClientActions,et as satisfiesRange,ua as setPimlicoAsProvider,Pa as signUserOperation,Oa as sponsorUserOperation,Te as toSigner,_a as uninstallPlugin,La as upgradeKernel,ke as validateKernelVersionWithEntryPoint,na as verifyEIP6492Signature,je as zerodevPaymasterActions};
