import{g as Qe,a as Ze,t as Y,b as we,c as Ie,s as et,i as de,d as Me,e as R,f as pe,h as tt,j as ue,k as le,v as at,l as nt,K as st,m as rt,n as it,o as dt,p as fe,q as xe,r as Q,u as Z,w as ot,x as ee,y as ct,z as yt,A as pt,B as ut,C as te,D as lt,E as ft,F as bt,G as mt,H as Aa}from"./kernelAccountClient-CqV0UdJt.js";import{I as Va,J as Ua,L as Ka,M as ka,S as Ha,N as Ga,O as za,P as Xa,Q as Wa,R as Ya,T as ja,U as $a,V as qa,W as Ja,X as Qa,Y as Za,Z as en,_ as tn,$ as an,a0 as nn,a1 as sn,a2 as rn}from"./kernelAccountClient-CqV0UdJt.js";import{A as At,c as M,i as Ct,I as Dt,p as X,s as Et,b as Tt,a as xt,n as Bt,d as Ft,B as gt,e as ht,U as vt,g as j,f as oe,z as S,h as ae,j as be,k as C,t as ce,l as Se,v as Le,m as Re,o as wt,q as It,r as Mt,u as St,w as Lt,x as ye,y as Be,C as ne,D as me,E as Ae,F as Rt,G as _t,H as Nt,J as Ot,K as Pt,L as Vt,M as Ut}from"./index-BOkJ5mb5.js";import{e as Kt,K as _e,M as kt,a as Ne,C as Ht,V as Gt,P as zt}from"./constants-BdYsUssb.js";import{c as on}from"./constants-BdYsUssb.js";function Xt(t,e){if(t.length!==e.length)throw new At({expectedLength:t.length,givenLength:e.length});const a=[];for(let n=0;n<t.length;n++){const s=t[n],i=e[n];a.push(Oe(s,i))}return M(a)}function Oe(t,e,a=!1){if(t==="address"){const r=e;if(!Ct(r))throw new Dt({address:r});return X(r.toLowerCase(),{size:a?32:null})}if(t==="string")return Et(e);if(t==="bytes")return e;if(t==="bool")return X(Tt(e),{size:a?32:1});const n=t.match(xt);if(n){const[r,c,y="256"]=n,o=Number.parseInt(y,10)/8;return Bt(e,{size:a?32:o,signed:c==="int"})}const s=t.match(Ft);if(s){const[r,c]=s;if(Number.parseInt(c,10)!==(e.length-2)/2)throw new gt({expectedSize:Number.parseInt(c,10),givenSize:(e.length-2)/2});return X(e,{dir:"right",size:a?32:null})}const i=t.match(ht);if(i&&Array.isArray(e)){const[r,c]=i,y=[];for(let o=0;o<e.length;o++)y.push(Oe(c,e[o],!0));return y.length===0?"0x":M(y)}throw new vt(t)}var Ce={exports:{}},O=typeof Reflect=="object"?Reflect:null,Fe=O&&typeof O.apply=="function"?O.apply:function(e,a,n){return Function.prototype.apply.call(e,a,n)},W;O&&typeof O.ownKeys=="function"?W=O.ownKeys:Object.getOwnPropertySymbols?W=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:W=function(e){return Object.getOwnPropertyNames(e)};function Wt(t){console&&console.warn&&console.warn(t)}var Pe=Number.isNaN||function(e){return e!==e};function b(){b.init.call(this)}Ce.exports=b;Ce.exports.once=qt;b.EventEmitter=b;b.prototype._events=void 0;b.prototype._eventsCount=0;b.prototype._maxListeners=void 0;var ge=10;function $(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return ge},set:function(t){if(typeof t!="number"||t<0||Pe(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ge=t}});b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};b.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Pe(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ve(t){return t._maxListeners===void 0?b.defaultMaxListeners:t._maxListeners}b.prototype.getMaxListeners=function(){return Ve(this)};b.prototype.emit=function(e){for(var a=[],n=1;n<arguments.length;n++)a.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var r;if(a.length>0&&(r=a[0]),r instanceof Error)throw r;var c=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw c.context=r,c}var y=i[e];if(y===void 0)return!1;if(typeof y=="function")Fe(y,this,a);else for(var o=y.length,D=Ge(y,o),n=0;n<o;++n)Fe(D[n],this,a);return!0};function Ue(t,e,a,n){var s,i,r;if($(a),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,a.listener?a.listener:a),i=t._events),r=i[e]),r===void 0)r=i[e]=a,++t._eventsCount;else if(typeof r=="function"?r=i[e]=n?[a,r]:[r,a]:n?r.unshift(a):r.push(a),s=Ve(t),s>0&&r.length>s&&!r.warned){r.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=r.length,Wt(c)}return t}b.prototype.addListener=function(e,a){return Ue(this,e,a,!1)};b.prototype.on=b.prototype.addListener;b.prototype.prependListener=function(e,a){return Ue(this,e,a,!0)};function Yt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ke(t,e,a){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:a},s=Yt.bind(n);return s.listener=a,n.wrapFn=s,s}b.prototype.once=function(e,a){return $(a),this.on(e,Ke(this,e,a)),this};b.prototype.prependOnceListener=function(e,a){return $(a),this.prependListener(e,Ke(this,e,a)),this};b.prototype.removeListener=function(e,a){var n,s,i,r,c;if($(a),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===a||n.listener===a)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||a));else if(typeof n!="function"){for(i=-1,r=n.length-1;r>=0;r--)if(n[r]===a||n[r].listener===a){c=n[r].listener,i=r;break}if(i<0)return this;i===0?n.shift():jt(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,c||a)}return this};b.prototype.off=b.prototype.removeListener;b.prototype.removeAllListeners=function(e){var a,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),r;for(s=0;s<i.length;++s)r=i[s],r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(a=n[e],typeof a=="function")this.removeListener(e,a);else if(a!==void 0)for(s=a.length-1;s>=0;s--)this.removeListener(e,a[s]);return this};function ke(t,e,a){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?a?[s.listener||s]:[s]:a?$t(s):Ge(s,s.length)}b.prototype.listeners=function(e){return ke(this,e,!0)};b.prototype.rawListeners=function(e){return ke(this,e,!1)};b.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):He.call(t,e)};b.prototype.listenerCount=He;function He(t){var e=this._events;if(e!==void 0){var a=e[t];if(typeof a=="function")return 1;if(a!==void 0)return a.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?W(this._events):[]};function Ge(t,e){for(var a=new Array(e),n=0;n<e;++n)a[n]=t[n];return a}function jt(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function $t(t){for(var e=new Array(t.length),a=0;a<e.length;++a)e[a]=t[a].listener||t[a];return e}function qt(t,e){return new Promise(function(a,n){function s(r){t.removeListener(e,i),n(r)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),a([].slice.call(arguments))}ze(t,e,i,{once:!0}),e!=="error"&&Jt(t,s,{once:!0})})}function Jt(t,e,a){typeof t.on=="function"&&ze(t,"error",e,a)}function ze(t,e,a,n){if(typeof t.on=="function")n.once?t.once(e,a):t.on(e,a);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),a(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Qt=Ce.exports;function Zt(t){return{getPaymasterData:e=>Ze(t,e),getPaymasterStubData:e=>Qe(t,e)}}function ea(t){return{...Y({address:t,async signMessage(){throw new Error("Method not supported")},async signTransaction(a){throw new Error("Method not supported")},async signTypedData(a){throw new Error("Method not supported")}}),publicKey:"0x",source:"empty"}}async function ta(t,{signer:e,entryPoint:a,kernelVersion:n}){var c;const s=await we({signer:e}),i=((c=t.chain)==null?void 0:c.id)??await j(t);return{...Y({address:s.address,async signMessage({message:y}){return oe(t,{account:s,message:y})},async signTransaction(y,o){throw new Error("Smart account signer doesn't need to sign transactions")},async signTypedData(y){return s.signTypedData(y)}}),supportedKernelVersions:n,validatorType:"EIP7702",address:s.address,source:"EIP7702Validator",getIdentifier(){return"0x"},async getEnableData(){return s.address},async getNonceKey(y,o){return o||0n},async signUserOperation(y){const o=Ie({userOperation:{...y,signature:"0x"},entryPointAddress:a.address,entryPointVersion:a.version,chainId:i});return await oe(t,{account:s,message:{raw:o}})},async getStubSignature(){return"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"},async isEnabled(y,o){return!1}}}const aa=[{type:"constructor",inputs:[{name:"_impl",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"createAccount",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"payable"},{type:"function",name:"getAddress",inputs:[{name:"data",type:"bytes",internalType:"bytes"},{name:"salt",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"error",name:"InitializeError",inputs:[]}],na=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"}],Ea={ACCOUNT_LOGIC_V0_6:"0xd3082872F8B06073A021b4602e022d5A070d7cfC",ACCOUNT_LOGIC_V0_7:"0x94F097E1ebEB4ecA3AAE54cabb08905B239A7D27",FACTORY_ADDRESS_V0_6:"0x5de4839a76cf55d0c90e2061ef4386d962E15ae3",FACTORY_ADDRESS_V0_7:"0x6723b44Abeec4E71eBE3232BD5B455805baDD22f",FACTORY_STAKER:"0xd703aaE79538628d27099B8c4f621bE4CCd142d5"},sa=async({entryPointVersion:t,kernelPluginManager:e,initHook:a,kernelVersion:n,initConfig:s})=>{var o,D,T,p;const{enableData:i,identifier:r,validatorAddress:c,initConfig:y}=await e.getValidatorInitData();return t==="0.6"?C({abi:rt,functionName:"initialize",args:[c,i]}):n==="0.3.0"?C({abi:it,functionName:"initialize",args:[r,a&&e.hook?(o=e.hook)==null?void 0:o.getIdentifier():S,i,a&&e.hook?await((D=e.hook)==null?void 0:D.getEnableData()):"0x"]}):C({abi:dt,functionName:"initialize",args:[r,a&&e.hook?(T=e.hook)==null?void 0:T.getIdentifier():S,i,a&&e.hook?await((p=e.hook)==null?void 0:p.getEnableData()):"0x",s??y??[]]})},ra=async({index:t,factoryAddress:e,accountImplementationAddress:a,entryPointVersion:n,kernelPluginManager:s,initHook:i,kernelVersion:r,initConfig:c,useMetaFactory:y})=>{const o=await sa({entryPointVersion:n,kernelPluginManager:s,initHook:i,kernelVersion:r,initConfig:c});return n==="0.6"?C({abi:na,functionName:"createAccount",args:[a,o,t]}):y?C({abi:st,functionName:"deployWithFactory",args:[e,o,ce(t,{size:32})]}):C({abi:aa,functionName:"createAccount",args:[o,ce(t,{size:32})]})},ia=(t,e,{accountImplementationAddress:a,factoryAddress:n,metaFactoryAddress:s})=>{at(t,e);const i=_e[e];if(!i)throw new Error(`No addresses found for kernel version ${e}`);return{accountImplementationAddress:a??i.accountImplementationAddress,factoryAddress:n??i.factoryAddress,metaFactoryAddress:s??i.metaFactoryAddress??S}};async function he(t,{plugins:e,entryPoint:a,index:n=0n,factoryAddress:s,accountImplementationAddress:i,metaFactoryAddress:r,address:c,kernelVersion:y,initConfig:o,useMetaFactory:D=!0,eip7702Auth:T,eip7702Account:p,pluginMigrations:A}){var Te;const d=!!p||!!T;if(d&&!et.satisfies(y,">=0.3.3"))throw new Error("EIP-7702 is recommended for kernel version >=0.3.3");const l=p?await we({signer:p,address:c}):void 0;let E;l&&(E=await ta(t,{signer:l,entryPoint:a,kernelVersion:y}));let F=D;const{accountImplementationAddress:v,factoryAddress:_,metaFactoryAddress:P}=ia(a.version,y,{accountImplementationAddress:i,factoryAddress:s,metaFactoryAddress:r});let N,K;const k=async()=>N||(N=t.chain?t.chain.id:await be(t,j,"getChainId")({}),N),De=async()=>K||(K=await ut(t,m,y,await k()),K),x=de(e)?e:await Me(t,{sudo:l?E:e==null?void 0:e.sudo,regular:e==null?void 0:e.regular,hook:e==null?void 0:e.hook,action:e==null?void 0:e.action,pluginEnableSignature:e==null?void 0:e.pluginEnableSignature,entryPoint:a,kernelVersion:y,chainId:await k()}),je=!!(de(e)?e.hook&&e.getIdentifier()===((Te=e.sudoValidator)==null?void 0:Te.getIdentifier()):e!=null&&e.hook&&!(e!=null&&e.regular)),q=async()=>{if(d)return"0x";if(!v||!_)throw new Error("Missing account logic address or factory address");return ra({index:n,factoryAddress:_,accountImplementationAddress:v,entryPointVersion:a.version,kernelPluginManager:x,initHook:je,kernelVersion:y,initConfig:o,useMetaFactory:F})},H=async()=>d?{factory:void 0,factoryData:void 0}:{factory:a.version==="0.6"||F===!1?_:P,factoryData:await q()};let m=c??(d?(l==null?void 0:l.address)??S:await(async()=>{const{factory:u,factoryData:f}=await H();if(!u||!f)throw new Error("Missing factory address or factory data");return await R(t,{factory:u,factoryData:f,entryPointAddress:a.address})})());ae(m,S)&&F&&(F=!1,m=await R(t,{factory:_,factoryData:await q(),entryPointAddress:a.address}),ae(m,S)&&(F=!0));const $e={address:(a==null?void 0:a.address)??Kt,abi:((a==null?void 0:a.version)??"0.7")==="0.6"?pe:tt,version:(a==null?void 0:a.version)??"0.7"},h={pendingPlugins:A||[],allInstalled:!1},Ee=async()=>{if(!h.pendingPlugins.length||h.allInstalled){h.allInstalled=!0;return}const u=await Promise.all(h.pendingPlugins.map(f=>nt(t,{address:m,plugin:f})));h.pendingPlugins=h.pendingPlugins.filter((f,B)=>!u[B]),h.allInstalled=h.pendingPlugins.length===0},qe=async()=>{const u=await It(t,{address:m});if(!u||u.length===0||!u.toLowerCase().startsWith(`0xef0100${v.slice(2).toLowerCase()}`)){if(T&&!ae(T.address,v))throw new Error("EIP-7702 authorization delegate address does not match account implementation address");const f=T??await Mt(t,{account:l,address:v,chainId:await k()});if(!await St({authorization:f,address:m}))throw new Error("Authorization verification failed");return f}};return await Ee(),ue({authorization:d?{account:l??ea(m),address:v}:void 0,kernelVersion:y,kernelPluginManager:x,accountImplementationAddress:v,factoryAddress:(await H()).factory,generateInitCode:q,encodeModuleInstallCallData:async()=>await x.encodeModuleInstallCallData(m),nonceKeyManager:le({source:{get:()=>0,set:()=>{}}}),client:t,entryPoint:$e,getFactoryArgs:H,async getAddress(){if(m)return m;const{factory:u,factoryData:f}=await H();if(!u||!f)throw new Error("Missing factory address or factory data");return m=await R(t,{factory:u,factoryData:f,entryPointAddress:a.address}),m},async encodeDeployCallData(u){return a.version==="0.6"?yt(u):pt(u)},async encodeCalls(u,f,B){if(await Ee(),h.pendingPlugins.length>0&&a.version==="0.7"&&x.activeValidatorMode==="sudo"){const w=[];for(const I of h.pendingPlugins)w.push(ot(m,I));return ee([...u,...w],f,e!=null&&e.hook?!0:void 0,B)}return u.length===1&&(!f||f==="call")&&u[0].to.toLowerCase()===m.toLowerCase()?u[0].data??"0x":a.version==="0.6"?ct(u,f):e!=null&&e.hook?ee(u,f,!0,B):ee(u,f,void 0,B)},eip7702Authorization:qe,async sign({hash:u}){return this.signMessage({message:u})},async signMessage({message:u,useReplayableSignature:f}){const B=wt(u),{name:w,chainId:I,version:L}=await De();let g;if(d)g=await x.signTypedData({message:{hash:B},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:w,version:L,chainId:f?0:Number(I),verifyingContract:m}});else if(a.version==="0.6"){const V=await xe(B,{name:w,chainId:Number(I),version:L,verifyingContract:m},f);g=await x.signMessage({message:{raw:V}})}else g=await x.signTypedData({message:{hash:B},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:w,version:L,chainId:f?0:Number(I),verifyingContract:m}});return Q(Z.ERC1271_WITH_VALIDATOR,L)?(f&&Q(Z.ERC1271_REPLAYABLE,L)&&(g=M([kt,g])),M([x.getIdentifier(),g])):g},async signTypedData(u){const{message:f,primaryType:B,types:w,domain:I}=u,L={EIP712Domain:Se({domain:I}),...w};Le({domain:I,message:f,primaryType:B,types:L});const g=Re(u),{name:V,chainId:J,version:G}=await De();let U;if(d)U=await x.signTypedData({message:{hash:g},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:V,version:G,chainId:Number(J),verifyingContract:m}});else if(a.version==="0.6"){const Je=await xe(g,{name:V,chainId:Number(J),version:G,verifyingContract:m});U=await x.signMessage({message:{raw:Je}})}else U=await x.signTypedData({message:{hash:g},primaryType:"Kernel",types:{Kernel:[{name:"hash",type:"bytes32"}]},domain:{name:V,version:G,chainId:Number(J),verifyingContract:m}});return Q(Z.ERC1271_WITH_VALIDATOR,G)?M([x.getIdentifier(),U]):U},async getNonce(u){const f=await x.getNonceKey(m,u==null?void 0:u.key);return fe(t,{address:m,entryPointAddress:a.address,key:f})},async getStubSignature(u){if(!u)throw new Error("No user operation provided");return x.getStubSignature(u)},async signUserOperation(u){const{chainId:f=await k(),...B}=u;return x.signUserOperation({...B,sender:B.sender??await this.getAddress(),chainId:f})}})}const Xe="0x8ae01fcf7c655655ff2c6ef907b8b4718ab4e17c",We=[{type:"function",name:"multiSend",inputs:[{type:"bytes",name:"transactions"}]}],da=t=>{const e=Lt(t.data);return Xt(["uint8","address","uint256","uint256","bytes"],[t.callType==="delegatecall"?1:0,t.to,t.value||0n,BigInt(e.length),t.data]).slice(2)},Ye=t=>{if(!Array.isArray(t))throw new Error("Invalid multiSend calls, should use an array of calls");return`0x${t.map(e=>da(e)).join("")}`},oa=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"contract EIP1967Proxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"}],se=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Operation",name:"operation",type:"uint8"}],name:"executeAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"}],ca={FACTORY_ADDRESS:"0x4E4946298614FC299B50c947289F4aD0572CB9ce"};async function Ta(t,{signer:e,address:a,entryPoint:n,index:s=0n}){const i={...e,signTransaction:(p,A)=>{throw new Error("Smart account signer doesn't need to sign transactions")}},r=await j(t),c=async()=>C({abi:oa,functionName:"createAccount",args:[e.address,s]}),y=async()=>({factory:ca.FACTORY_ADDRESS,factoryData:await c()});let o=a??await(async()=>{const{factory:p,factoryData:A}=await y();return await R(t,{factory:p,factoryData:A,entryPointAddress:n.address})})();if(!o)throw new Error("Account address not found");const D=Y({address:o,async signMessage({message:p}){return i.signMessage({message:p})},async signTransaction(p,A){throw new Error("Smart account signer doesn't need to sign transactions")},async signTypedData(p){return i.signTypedData(p)}}),T={address:(n==null?void 0:n.address)??Ne,abi:pe,version:(n==null?void 0:n.version)??"0.6"};return ue({...D,generateInitCode:c,encodeModuleInstallCallData:async()=>{throw new Error("Not implemented")},nonceKeyManager:le({source:{get:()=>0,set:()=>{}}}),async sign({hash:p}){return D.signMessage({message:p})},async signMessage({message:p}){return D.signMessage({message:p})},async signTypedData(p){return i.signTypedData(p)},async getAddress(){if(o)return o;const{factory:p,factoryData:A}=await y();return o=await R(t,{factory:p,factoryData:A,entryPointAddress:n.address}),o},getFactoryArgs:y,client:t,entryPoint:T,async getNonce(){return fe(t,{address:o,entryPointAddress:n.address})},async signUserOperation(p){const A=Ie({userOperation:{...p,sender:p.sender??await this.getAddress(),signature:"0x"},entryPointAddress:n.address,entryPointVersion:n.version,chainId:r});return await oe(t,{account:i,message:{raw:A}})},async encodeCalls(p,A){if(p.length>1){if(A==="delegatecall")throw new Error("Cannot batch delegatecall");const l=C({abi:We,functionName:"multiSend",args:[Ye(p)]});return C({abi:se,functionName:"executeAndRevert",args:[Xe,0n,l,1n]})}const d=p.length===0?void 0:p[0];if(!d)throw new Error("No calls to encode");if(!A||A==="call")return d.to.toLowerCase()===o.toLowerCase()?d.data||"0x":C({abi:se,functionName:"executeAndRevert",args:[d.to,d.value||0n,d.data,0n]});if(A==="delegatecall")return C({abi:se,functionName:"executeAndRevert",args:[d.to,d.value||0n,d.data,1n]});throw new Error("Invalid call type")},async getStubSignature(){return"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"}})}const re=[{type:"constructor",inputs:[{name:"v1",type:"address",internalType:"contract IValidator"},{name:"v2",type:"address",internalType:"contract IValidator"},{name:"v3",type:"address",internalType:"contract IValidator"},{name:"v4",type:"address",internalType:"contract IValidator"},{name:"v5",type:"address",internalType:"contract IValidator"},{name:"s1",type:"address",internalType:"contract ISigner"},{name:"s2",type:"address",internalType:"contract ISigner"},{name:"s3",type:"address",internalType:"contract ISigner"},{name:"tv1",type:"address",internalType:"contract IValidator"},{name:"tv2",type:"address",internalType:"contract IValidator"},{name:"tv3",type:"address",internalType:"contract IValidator"},{name:"ts1",type:"address",internalType:"contract ISigner"}],stateMutability:"nonpayable"},{type:"function",name:"consumeGas",inputs:[{name:"count",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isMigrated",inputs:[{name:"kernel",type:"address",internalType:"contract Kernel"},{name:"validators",type:"address[]",internalType:"contract IValidator[]"},{name:"pIds",type:"bytes4[]",internalType:"PermissionId[]"}],outputs:[{name:"root",type:"bool",internalType:"bool"},{name:"v",type:"bool[]",internalType:"bool[]"},{name:"p",type:"bool[]",internalType:"bool[]"}],stateMutability:"view"},{type:"function",name:"migrate",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"migrateWithCall",inputs:[{name:"validators",type:"address[]",internalType:"contract IValidator[]"},{name:"permissionIds",type:"bytes4[]",internalType:"bytes4[]"},{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"execData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"migrateWithPermissionId",inputs:[{name:"permissionId",type:"bytes4[]",internalType:"bytes4[]"},{name:"validators",type:"address[]",internalType:"contract IValidator[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"mockSlot",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"usedSlot",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],ie="0x03EB97959433D55748839D27C93330Cb85F31A93";async function xa(t,e){if(e.entryPoint.version!=="0.7")throw new Error("Only EntryPoint 0.7 is supported");const{plugins:{sudo:{migrate:{from:a,to:n}}},...s}=e,i=await he(t,{plugins:{sudo:a},...s});let r=!1,c=!1;const y=async()=>{try{if(r)return r;const A=await be(t,_t,"readContract")({address:i.address,abi:te,functionName:"rootValidator",args:[]}),d=M([Gt[n.validatorType],X(n.getIdentifier(),{size:20,dir:"right"})]);return r=A.toLowerCase()===d.toLowerCase(),r}catch{return!1}};if([c,r]=await Promise.all([i.isDeployed(),y()]),c&&r)return he(t,{plugins:{sudo:n},...s,address:i.address});const o=C({abi:te,functionName:"installModule",args:[3n,ie,ye([Be(ne({abi:re,name:"migrateWithCall"})),S,me(Ae("bytes selectorInitData, bytes hookInitData"),[Ht.DELEGATE_CALL,"0x0000"])])]}),D={to:i.address,data:o,value:0n},T=C({abi:te,functionName:"uninstallModule",args:[3n,ie,ye([Be(ne({abi:re,name:"migrateWithCall"})),"0x"])]}),p={to:i.address,data:T,value:0n};return{...i,getRootValidatorMigrationStatus:y,async encodeCalls(A,d){const l=await y(),E=await i.encodeCalls(A,d);if(l)return E;const{args:[F,v]}=Rt({abi:[ne({abi:lt,name:"execute"})],data:E}),_=C({abi:re,functionName:"migrateWithCall",args:[[],[],F,v]}),P={to:ie,data:_,value:0n};if(e.kernelVersion!=="0.3.0")return i.encodeCalls([P],"delegatecall");P.to=i.address;const N=[D,P,p];return i.encodeCalls(N,"call")}}}const z=[{type:"constructor",inputs:[{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"payable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"disableMode",inputs:[{name:"_disableFlag",type:"bytes4",internalType:"bytes4"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"to",type:"address",internalType:"address"},{name:"value",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"},{name:"operation",type:"uint8",internalType:"enum Operation"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getDefaultValidator",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IKernelValidator"}],stateMutability:"view"},{type:"function",name:"getDisabledMode",inputs:[],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"getExecution",inputs:[{name:"_selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"tuple",internalType:"struct ExecutionDetail",components:[{name:"validUntil",type:"uint48",internalType:"uint48"},{name:"validAfter",type:"uint48",internalType:"uint48"},{name:"executor",type:"address",internalType:"address"},{name:"validator",type:"address",internalType:"contract IKernelValidator"}]}],stateMutability:"view"},{type:"function",name:"getLastDisabledTime",inputs:[],outputs:[{name:"",type:"uint48",internalType:"uint48"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[{name:"key",type:"uint192",internalType:"uint192"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getNonce",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_defaultValidator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"setDefaultValidator",inputs:[{name:"_defaultValidator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setExecution",inputs:[{name:"_selector",type:"bytes4",internalType:"bytes4"},{name:"_executor",type:"address",internalType:"address"},{name:"_validator",type:"address",internalType:"contract IKernelValidator"},{name:"_validUntil",type:"uint48",internalType:"uint48"},{name:"_validAfter",type:"uint48",internalType:"uint48"},{name:"_enableData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"upgradeTo",inputs:[{name:"_newImplementation",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct UserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"callGasLimit",type:"uint256",internalType:"uint256"},{name:"verificationGasLimit",type:"uint256",internalType:"uint256"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"maxFeePerGas",type:"uint256",internalType:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256",internalType:"uint256"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"version",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"event",name:"DefaultValidatorChanged",inputs:[{name:"oldValidator",type:"address",indexed:!0,internalType:"address"},{name:"newValidator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ExecutionChanged",inputs:[{name:"selector",type:"bytes4",indexed:!0,internalType:"bytes4"},{name:"executor",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"newImplementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1}],ya=[{type:"constructor",inputs:[{name:"_entryPoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"function",name:"createAccount",inputs:[{name:"_validator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"proxy",type:"address",internalType:"contract EIP1967Proxy"}],stateMutability:"nonpayable"},{type:"function",name:"entryPoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"getAccountAddress",inputs:[{name:"_validator",type:"address",internalType:"contract IKernelValidator"},{name:"_data",type:"bytes",internalType:"bytes"},{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"kernelTemplate",inputs:[],outputs:[{name:"",type:"address",internalType:"contract TempKernel"}],stateMutability:"view"},{type:"function",name:"nextTemplate",inputs:[],outputs:[{name:"",type:"address",internalType:"contract Kernel"}],stateMutability:"view"},{type:"event",name:"AccountCreated",inputs:[{name:"account",type:"address",indexed:!0,internalType:"address"},{name:"validator",type:"address",indexed:!0,internalType:"address"},{name:"data",type:"bytes",indexed:!1,internalType:"bytes"},{name:"index",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],pa="0x9b35Af71d77eaf8d7e40252370304687390A1A52",ua=Nt(["function performCreate(uint256 value, bytes memory deploymentData) public returns (address newContract)","function performCreate2(uint256 value, bytes memory deploymentData, bytes32 salt) public returns (address newContract)"]),la={FACTORY_ADDRESS:"0xaee9762ce625e0a8f7b184670fb57c37bfe1d0f1"},fa=async({index:t,factoryAddress:e,validatorAddress:a,enableData:n})=>M([e,C({abi:ya,functionName:"createAccount",args:[a,n,t]})]);async function Ba(t,{plugins:e,entryPoint:a,index:n=0n,factoryAddress:s=la.FACTORY_ADDRESS,address:i}){const r=de(e)?e:await Me(t,{sudo:e.sudo,regular:e.regular,action:e.action,pluginEnableSignature:e.pluginEnableSignature,kernelVersion:"0.0.2",entryPoint:a}),c=async()=>{const d=await r.getValidatorInitData();return fa({index:n,factoryAddress:s,validatorAddress:d.validatorAddress,enableData:d.enableData})},y=async()=>({factory:s,factoryData:await c()});let o=i??await(async()=>{const{factory:d,factoryData:l}=await y();return await R(t,{factory:d,factoryData:l,entryPointAddress:a.address})})();const D=Y({address:o,async signMessage({message:d}){return r.signMessage({message:d})},async signTransaction(d,l){throw new Error("Smart account signer doesn't need to sign transactions")},async signTypedData(d){const l=d,E={EIP712Domain:Se({domain:l.domain}),...l.types};Le({domain:l.domain,message:l.message,primaryType:l.primaryType,types:E});const F=Re(d);return r.signMessage({message:{raw:F}})}}),T={address:(a==null?void 0:a.address)??Ne,abi:pe,version:(a==null?void 0:a.version)??"0.6"};let p;const A=async()=>p||(p=t.chain?t.chain.id:await be(t,j,"getChainId")({}),p);return ue({kernelVersion:"0.0.2",client:t,entryPoint:T,kernelPluginManager:r,factoryAddress:s,accountImplementationAddress:_e["0.0.2"].accountImplementationAddress,generateInitCode:c,encodeModuleInstallCallData:async()=>await r.encodeModuleInstallCallData(o),nonceKeyManager:le({source:{get:()=>0,set:()=>{}}}),async sign({hash:d}){return D.signMessage({message:d})},async signMessage(d){return D.signMessage(d)},async signTypedData(d){return D.signTypedData(d)},getFactoryArgs:y,async getAddress(){if(o)return o;const{factory:d,factoryData:l}=await y();return o=await R(t,{factory:d,factoryData:l,entryPointAddress:a.address}),o},async getNonce(d){const l=await r.getNonceKey(o,d==null?void 0:d.key);return fe(t,{address:o,entryPointAddress:a.address,key:l})},async signUserOperation(d){const{chainId:l=await A(),...E}=d;return r.signUserOperation({...E,sender:E.sender??await this.getAddress(),chainId:l})},async encodeDeployCallData(d){return C({abi:z,functionName:"execute",args:[pa,0n,C({abi:ua,functionName:"performCreate",args:[0n,Ot({abi:d.abi,bytecode:d.bytecode,args:d.args})]}),1]})},async encodeCalls(d,l){if(d.length>1){const F=C({abi:We,functionName:"multiSend",args:[Ye(d)]});return C({abi:z,functionName:"execute",args:[Xe,0n,F,1]})}const E=d.length===0?void 0:d[0];if(!E)throw new Error("No calls to encode");if(!l||l==="call")return E.to.toLowerCase()===o.toLowerCase()?E.data||"0x":C({abi:z,functionName:"execute",args:[E.to,E.value||0n,E.data||"0x",0]});if(l==="delegatecall")return C({abi:z,functionName:"execute",args:[E.to,0n,E.data||"0x",1]});throw new Error("Invalid call type")},async getStubSignature(d){if(!d)throw new Error("No user operation provided");return r.getStubSignature(d)}})}const ba="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Fa=async({signer:t,hash:e,signature:a,client:n})=>(await n.call({data:ye([ba,me(Ae("address, bytes32, bytes"),[t,e,a])])})).data==="0x01",ve=(t,e)=>{const n=Pt(ce(t)).substring(2,e*2+2);return BigInt(`0x${n}`)},ga=(t,e)=>e==="0.6"?ve(t,24):ve(t,2),ha=t=>{const{key:e="public",name:a="ZeroDev Paymaster Client",transport:n}=t;return Vt({...t,transport:i=>n({...i,retryCount:0}),key:e,name:a,type:"zerodevPaymasterClient"}).extend(Zt).extend(ft())},va=(t,e)=>{function a(s){return async(...i)=>{for(let r=0;r<t.length;r++)try{const c=Reflect.get(t[r],s);if(typeof c=="function")return await c(...i)}catch(c){if(console.error(`Action ${String(s)} failed with client ${t[r].transport.url}, trying next if available.`),e!==void 0&&await e(c,t[r].transport.url),r===t.length-1)throw c}}}const n=new Proxy(t[0],{get(s,i,r){if(i==="extend")return y=>{const o=y(n);for(const[D,T]of Object.entries(o))typeof T=="function"?n[D]=async(...p)=>T(...p):console.error(`Expected a function for modification of ${D}, but received type ${typeof T}`);return n};const c=Reflect.get(s,i,r);return typeof c=="function"?a(i):c}});return n},wa=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DeploymentFailed",type:"error"},{inputs:[],name:"NewOwnerIsZeroAddress",type:"error"},{inputs:[],name:"NoHandoverRequest",type:"error"},{inputs:[],name:"SaltDoesNotStartWithCaller",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"proxy",type:"address"},{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Deployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pendingOwner",type:"address"}],name:"OwnershipHandoverCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"pendingOwner",type:"address"}],name:"OwnershipHandoverRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"cancelOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"pendingOwner",type:"address"}],name:"completeOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"proxy",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"getAccountAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{internalType:"bytes32",name:"result",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isAllowedImplementation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"result",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pendingOwner",type:"address"}],name:"ownershipHandoverExpiresAt",outputs:[{internalType:"uint256",name:"result",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownershipHandoverValidFor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"predictDeterministicAddress",outputs:[{internalType:"address",name:"predicted",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"requestOwnershipHandover",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"}],name:"setEntryPoint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bool",name:"_allow",type:"bool"}],name:"setImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"}],Ia=[{type:"constructor",inputs:[{name:"_entrypoint",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"payable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"accountId",inputs:[],outputs:[{name:"accountImplementationId",type:"string",internalType:"string"}],stateMutability:"pure"},{type:"function",name:"changeRootValidator",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"currentNonce",inputs:[],outputs:[{name:"",type:"uint32",internalType:"uint32"}],stateMutability:"view"},{type:"function",name:"eip712Domain",inputs:[],outputs:[{name:"fields",type:"bytes1",internalType:"bytes1"},{name:"name",type:"string",internalType:"string"},{name:"version",type:"string",internalType:"string"},{name:"chainId",type:"uint256",internalType:"uint256"},{name:"verifyingContract",type:"address",internalType:"address"},{name:"salt",type:"bytes32",internalType:"bytes32"},{name:"extensions",type:"uint256[]",internalType:"uint256[]"}],stateMutability:"view"},{type:"function",name:"entrypoint",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IEntryPoint"}],stateMutability:"view"},{type:"function",name:"execute",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executeFromExecutor",inputs:[{name:"execMode",type:"bytes32",internalType:"ExecMode"},{name:"executionCalldata",type:"bytes",internalType:"bytes"}],outputs:[{name:"returnData",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"executeUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"executorConfig",inputs:[{name:"executor",type:"address",internalType:"contract IExecutor"}],outputs:[{name:"",type:"tuple",internalType:"struct ExecutorManager.ExecutorConfig",components:[{name:"hook",type:"address",internalType:"contract IHook"}]}],stateMutability:"view"},{type:"function",name:"grantAccess",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"},{name:"selector",type:"bytes4",internalType:"bytes4"},{name:"allow",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"payable"},{type:"function",name:"initialize",inputs:[{name:"_rootValidator",type:"bytes21",internalType:"ValidationId"},{name:"hook",type:"address",internalType:"contract IHook"},{name:"validatorData",type:"bytes",internalType:"bytes"},{name:"hookData",type:"bytes",internalType:"bytes"},{name:"initConfig",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"installModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"initData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"installValidations",inputs:[{name:"vIds",type:"bytes21[]",internalType:"ValidationId[]"},{name:"configs",type:"tuple[]",internalType:"struct ValidationManager.ValidationConfig[]",components:[{name:"nonce",type:"uint32",internalType:"uint32"},{name:"hook",type:"address",internalType:"contract IHook"}]},{name:"validationData",type:"bytes[]",internalType:"bytes[]"},{name:"hookData",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"payable"},{type:"function",name:"invalidateNonce",inputs:[{name:"nonce",type:"uint32",internalType:"uint32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"isAllowedSelector",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"},{name:"selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isModuleInstalled",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"additionalContext",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"isValidSignature",inputs:[{name:"hash",type:"bytes32",internalType:"bytes32"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"view"},{type:"function",name:"onERC1155BatchReceived",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"uint256[]",internalType:"uint256[]"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC1155Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"onERC721Received",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes4",internalType:"bytes4"}],stateMutability:"pure"},{type:"function",name:"permissionConfig",inputs:[{name:"pId",type:"bytes4",internalType:"PermissionId"}],outputs:[{name:"",type:"tuple",internalType:"struct ValidationManager.PermissionConfig",components:[{name:"permissionFlag",type:"bytes2",internalType:"PassFlag"},{name:"signer",type:"address",internalType:"contract ISigner"},{name:"policyData",type:"bytes22[]",internalType:"PolicyData[]"}]}],stateMutability:"view"},{type:"function",name:"replayableUserOpHash",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"entryPoint",type:"address",internalType:"address"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"},{type:"function",name:"rootValidator",inputs:[],outputs:[{name:"",type:"bytes21",internalType:"ValidationId"}],stateMutability:"view"},{type:"function",name:"selectorConfig",inputs:[{name:"selector",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"tuple",internalType:"struct SelectorManager.SelectorConfig",components:[{name:"hook",type:"address",internalType:"contract IHook"},{name:"target",type:"address",internalType:"address"},{name:"callType",type:"bytes1",internalType:"CallType"}]}],stateMutability:"view"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"mode",type:"bytes32",internalType:"ExecMode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"pure"},{type:"function",name:"supportsModule",inputs:[{name:"moduleTypeId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"pure"},{type:"function",name:"uninstallModule",inputs:[{name:"moduleType",type:"uint256",internalType:"uint256"},{name:"module",type:"address",internalType:"address"},{name:"deInitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"uninstallValidation",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"},{name:"deinitData",type:"bytes",internalType:"bytes"},{name:"hookDeinitData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"upgradeTo",inputs:[{name:"_newImplementation",type:"address",internalType:"address"}],outputs:[],stateMutability:"payable"},{type:"function",name:"validNonceFrom",inputs:[],outputs:[{name:"",type:"uint32",internalType:"uint32"}],stateMutability:"view"},{type:"function",name:"validateUserOp",inputs:[{name:"userOp",type:"tuple",internalType:"struct PackedUserOperation",components:[{name:"sender",type:"address",internalType:"address"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"initCode",type:"bytes",internalType:"bytes"},{name:"callData",type:"bytes",internalType:"bytes"},{name:"accountGasLimits",type:"bytes32",internalType:"bytes32"},{name:"preVerificationGas",type:"uint256",internalType:"uint256"},{name:"gasFees",type:"bytes32",internalType:"bytes32"},{name:"paymasterAndData",type:"bytes",internalType:"bytes"},{name:"signature",type:"bytes",internalType:"bytes"}]},{name:"userOpHash",type:"bytes32",internalType:"bytes32"},{name:"missingAccountFunds",type:"uint256",internalType:"uint256"}],outputs:[{name:"validationData",type:"uint256",internalType:"ValidationData"}],stateMutability:"payable"},{type:"function",name:"validationConfig",inputs:[{name:"vId",type:"bytes21",internalType:"ValidationId"}],outputs:[{name:"",type:"tuple",internalType:"struct ValidationManager.ValidationConfig",components:[{name:"nonce",type:"uint32",internalType:"uint32"},{name:"hook",type:"address",internalType:"contract IHook"}]}],stateMutability:"view"},{type:"event",name:"ModuleInstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"ModuleUninstallResult",inputs:[{name:"module",type:"address",indexed:!1,internalType:"address"},{name:"result",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"ModuleUninstalled",inputs:[{name:"moduleTypeId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"module",type:"address",indexed:!1,internalType:"address"}],anonymous:!1},{type:"event",name:"NonceInvalidated",inputs:[{name:"nonce",type:"uint32",indexed:!1,internalType:"uint32"}],anonymous:!1},{type:"event",name:"PermissionInstalled",inputs:[{name:"permission",type:"bytes4",indexed:!1,internalType:"PermissionId"},{name:"nonce",type:"uint32",indexed:!1,internalType:"uint32"}],anonymous:!1},{type:"event",name:"PermissionUninstalled",inputs:[{name:"permission",type:"bytes4",indexed:!1,internalType:"PermissionId"}],anonymous:!1},{type:"event",name:"Received",inputs:[{name:"sender",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"RootValidatorUpdated",inputs:[{name:"rootValidator",type:"bytes21",indexed:!1,internalType:"ValidationId"}],anonymous:!1},{type:"event",name:"SelectorSet",inputs:[{name:"selector",type:"bytes4",indexed:!1,internalType:"bytes4"},{name:"vId",type:"bytes21",indexed:!1,internalType:"ValidationId"},{name:"allowed",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"TryExecuteUnsuccessful",inputs:[{name:"batchExecutionindex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"result",type:"bytes",indexed:!1,internalType:"bytes"}],anonymous:!1},{type:"event",name:"Upgraded",inputs:[{name:"implementation",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"ValidatorInstalled",inputs:[{name:"validator",type:"address",indexed:!1,internalType:"contract IValidator"},{name:"nonce",type:"uint32",indexed:!1,internalType:"uint32"}],anonymous:!1},{type:"event",name:"ValidatorUninstalled",inputs:[{name:"validator",type:"address",indexed:!1,internalType:"contract IValidator"}],anonymous:!1},{type:"error",name:"AlreadyInitialized",inputs:[]},{type:"error",name:"EnableNotApproved",inputs:[]},{type:"error",name:"ExecutionReverted",inputs:[]},{type:"error",name:"InitConfigError",inputs:[{name:"idx",type:"uint256",internalType:"uint256"}]},{type:"error",name:"InvalidCallType",inputs:[]},{type:"error",name:"InvalidCaller",inputs:[]},{type:"error",name:"InvalidExecutor",inputs:[]},{type:"error",name:"InvalidFallback",inputs:[]},{type:"error",name:"InvalidMode",inputs:[]},{type:"error",name:"InvalidModuleType",inputs:[]},{type:"error",name:"InvalidNonce",inputs:[]},{type:"error",name:"InvalidSelector",inputs:[]},{type:"error",name:"InvalidSelectorData",inputs:[]},{type:"error",name:"InvalidSignature",inputs:[]},{type:"error",name:"InvalidValidationType",inputs:[]},{type:"error",name:"InvalidValidator",inputs:[]},{type:"error",name:"NonceInvalidationError",inputs:[]},{type:"error",name:"NotSupportedCallType",inputs:[]},{type:"error",name:"OnlyExecuteUserOp",inputs:[]},{type:"error",name:"PermissionDataLengthMismatch",inputs:[]},{type:"error",name:"PermissionNotAlllowedForSignature",inputs:[]},{type:"error",name:"PermissionNotAlllowedForUserOp",inputs:[]},{type:"error",name:"PolicyDataTooLarge",inputs:[]},{type:"error",name:"PolicyFailed",inputs:[{name:"i",type:"uint256",internalType:"uint256"}]},{type:"error",name:"PolicySignatureOrderError",inputs:[]},{type:"error",name:"RootValidatorCannotBeRemoved",inputs:[]},{type:"error",name:"SignerPrefixNotPresent",inputs:[]}],Ma=[{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"transfer20Action",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"transferERC1155Action",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"transferERC721Action",outputs:[],stateMutability:"nonpayable",type:"function"}],Sa={1:{ABT:"0xB98d4C97425d9908E66E53A6fDf673ACcA0BE986",ACH:"0xEd04915c23f00A313a544955524EB7DBD823143d",ADX:"0xADE00C28244d5CE17D72E40330B1c318cD12B7c3",AGLD:"0x32353A6C91143bfd6C7d363B546e62a9A2489A20",AIOZ:"0x626E8036dEB333b408Be468F951bdB42433cBF18",ALEPH:"0x27702a26126e0B3702af63Ee09aC4d1A084EF628",ALI:"0x6B0b3a982b4634aC68dD83a4DBF02311cE324181",ALICE:"0xAC51066d7bEC65Dc4589368da368b212745d63E8",ALPHA:"0xa1faa113cbE53436Df28FF0aEe54275c13B40975",AMP:"0xfF20817765cB7f73d4bde2e66e067E58D11095C2",ANKR:"0x8290333ceF9e6D528dD5618Fb97a76f268f3EDD4",ANT:"0xa117000000f279D81A1D3cc75430fAA017FA5A2e",APE:"0x4d224452801ACEd8B2F0aebE155379bb5D594381",API3:"0x0b38210ea11411557c13457D4dA7dC6ea731B88a",ARB:"0xB50721BCf8d664c30412Cfbc6cf7a15145234ad1",ASM:"0x2565ae0385659badCada1031DB704442E1b69982",AUDIO:"0x18aAA7115705e8be94bfFEBDE57Af9BFc265B998",AXL:"0x467719aD09025FcC6cF6F8311755809d45a5E5f3",AXS:"0xBB0E17EF65F82Ab018d8EDd776e8DD940327B28b",BADGER:"0x3472A5A71965499acd81997a54BBA8D852C6E53d",BAL:"0xba100000625a3754423978a60c9317c58a424e3D",BIGTIME:"0x64Bc2cA1Be492bE7185FAA2c8835d9b824c8a194",BIT:"0x1A4b46696b2bB4794Eb3D4c26f1c55F9170fa4C5",BLUR:"0x5283D291DBCF85356A21bA090E6db59121208b44",BLZ:"0x5732046A883704404F284Ce41FfADd5b007FD668",BNT:"0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C",BOND:"0x0391D2021f89DC339F60Fff84546EA23E337750f",BTRST:"0x799ebfABE77a6E34311eeEe9825190B9ECe32824",BUSD:"0x4Fabb145d64652a948d72533023f6E7A623C7C53",CBETH:"0xBe9895146f7AF43049ca1c1AE358B0541Ea49704",CELR:"0x4F9254C83EB525f9FCf346490bbb3ed28a81C667",CHR:"0x8A2279d4A90B6fe1C4B30fa660cC9f926797bAA2",CHZ:"0x3506424F91fD33084466F402d5D97f05F8e3b4AF",COTI:"0xDDB3422497E61e13543BeA06989C0789117555c5",COVAL:"0x3D658390460295FB963f54dC0899cfb1c30776Df",CQT:"0xD417144312DbF50465b1C641d016962017Ef6240",CRO:"0xA0b73E1Ff0B80914AB6fe0444E65848C4C34450b",CRPT:"0x08389495D7456E1951ddF7c3a1314A4bfb646d8B",CRV:"0xD533a949740bb3306d119CC777fa900bA034cd52",CTSI:"0x491604c0FDF08347Dd1fa4Ee062a822A5DD06B5D",CUBE:"0xDf801468a808a32656D2eD2D2d80B72A129739f4",CVC:"0x41e5560054824eA6B0732E656E3Ad64E20e94E45",CVX:"0x4e3FBD56CD56c3e72c1403e103b45Db9da5B9D2B",DAI:"0x6B175474E89094C44Da98b954EedeAC495271d0F",DAR:"0x081131434f93063751813C619Ecca9C4dC7862a3",DDX:"0x3A880652F47bFaa771908C07Dd8673A787dAEd3A",DENT:"0x3597bfD533a99c9aa083587B074434E61Eb0A258",DEXT:"0xfB7B4564402E5500dB5bB6d63Ae671302777C75a",DIA:"0x84cA8bc7997272c7CfB4D0Cd3D55cd942B3c9419",DPI:"0x1494CA1F11D487c2bBe4543E90080AeBa4BA3C2b",DYP:"0x961C8c0B1aaD0c0b10a51FeF6a867E3091BCef17",ELA:"0xe6fd75ff38Adca4B97FBCD938c86b98772431867",ELON:"0x761D38e5ddf6ccf6Cf7c55759d5210750B5D60F3",ENJ:"0xF629cBd94d3791C9250152BD8dfBDF380E2a3B9c",ENS:"0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72",ERN:"0xBBc2AE13b23d715c30720F079fcd9B4a74093505",EUL:"0xd9Fcd98c322942075A5C3860693e9f4f03AAE07b",EURC:"0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c",FARM:"0xa0246c9032bC3A600820415aE600c6388619A14D",FET:"0xaea46A60368A7bD060eec7DF8CBa43b7EF41Ad85",FIS:"0xef3A930e1FfFFAcd2fc13434aC81bD278B0ecC8d",FORTH:"0x77FbA179C79De5B7653F68b5039Af940AdA60ce0",FRAX:"0x853d955aCEf822Db058eb8505911ED77F175b99e",FTM:"0x4E15361FD6b4BB609Fa63C81A2be19d873717870",FXS:"0x3432B6A60D23Ca0dFCa7761B7ab56459D9C964D0",GAL:"0x5fAa989Af96Af85384b8a938c2EdE4A7378D9875",GFI:"0xdab396cCF3d84Cf2D07C4454e10C8A6F5b008D2b",GHST:"0x3F382DbD960E3a9bbCeaE22651E88158d2791550",GLM:"0x7DD9c5Cba05E151C895FDe1CF355C9A1D5DA6429",GNO:"0x6810e776880C02933D47DB1b9fc05908e5386b96",GODS:"0xccC8cb5229B0ac8069C51fd58367Fd1e622aFD97",GRT:"0xc944E90C64B2c07662A292be6244BDf05Cda44a7",GTC:"0xDe30da39c46104798bB5aA3fe8B9e0e1F348163F",GUSD:"0x056Fd409E1d7A124BD7017459dFEa2F387b6d5Cd",HFT:"0xb3999F658C0391d94A37f7FF328F3feC942BcADC",HIGH:"0x71Ab77b7dbB4fa7e017BC15090b2163221420282",ILV:"0x767FE9EDC9E0dF98E07454847909b5E959D7ca0E",IMX:"0xF57e7e7C23978C3cAEC3C3548E3D615c346e79fF",INDEX:"0x0954906da0Bf32d5479e25f46056d22f08464cab",INJ:"0xe28b3B32B6c345A34Ff64674606124Dd5Aceca30",INV:"0x41D5D79431A913C4aE7d69a668ecdfE5fF9DFB68",IOTX:"0x6fB3e0A217407EFFf7Ca062D46c26E5d60a14d69",JASMY:"0x7420B4b9a0110cdC71fB720908340C03F9Bc03EC",JUP:"0x4B1E80cAC91e2216EEb63e29B957eB91Ae9C2Be8",KEEP:"0x85Eee30c52B0b379b046Fb0F85F4f3Dc3009aFEC",KP3R:"0x1cEB5cB57C4D4E2b2433641b95Dd330A33185A44",LCX:"0x037A54AaB062628C9Bbae1FDB1583c195585fe41",LDO:"0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32",LINK:"0x514910771AF9Ca656af840dff83E8264EcF986CA",LOKA:"0x61E90A50137E1F645c9eF4a0d3A4f01477738406",LPT:"0x58b6A8A3302369DAEc383334672404Ee733aB239",LQTY:"0x6DEA81C8171D0bA574754EF6F8b412F2Ed88c54D",LRC:"0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD",LUSD:"0x5f98805A4E8be255a32880FDeC7F6728C6568bA0",MANA:"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942",MASK:"0x69af81e73A73B40adF4f3d4223Cd9b1ECE623074",MATH:"0x08d967bb0134F2d07f7cfb6E246680c53927DD30",MATIC:"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0",MCO2:"0xfC98e825A2264D890F9a1e68ed50E1526abCcacD",MDT:"0x814e0908b12A99FeCf5BC101bB5d0b8B5cDf7d26",METIS:"0x9E32b13ce7f2E80A01932B42553652E053D6ed8e",MIM:"0x99D8a9C45b2ecA8864373A26D1459e3Dff1e17F3",MIR:"0x09a3EcAFa817268f77BE1283176B946C4ff2E608",MLN:"0xec67005c4E498Ec7f55E092bd1d35cbC47C91892",MONA:"0x275f5Ad03be0Fa221B4C6649B8AeE09a42D9412A",MPL:"0x33349B282065b0284d756F0577FB39c158F935e6",MTL:"0xF433089366899D83a9f26A773D59ec7eCF30355e",MUSE:"0xB6Ca7399B4F9CA56FC27cBfF44F4d2e4Eef1fc81",MXC:"0x5Ca381bBfb58f0092df149bD3D243b08B9a8386e",NCT:"0x9E46A38F5DaaBe8683E10793b06749EEF7D733d1",NEXO:"0xB62132e35a6c13ee1EE0f84dC5d40bad8d815206",NMR:"0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671",OCEAN:"0x967da4048cD07aB37855c090aAF366e4ce1b9F48",OGN:"0x8207c1FfC5B6804F6024322CcF34F29c3541Ae26",ONEINCH:"0x111111111117dC0aa78b770fA6A738034120C302",ORN:"0x0258F474786DdFd37ABCE6df6BBb1Dd5dfC4434a",OXT:"0x4575f41308EC1483f3d399aa9a2826d74Da13Deb",PAXG:"0x45804880De22913dAFE09f4980848ECE6EcbAf78",PERP:"0xbC396689893D065F41bc2C6EcbeE5e0085233447",PLA:"0x3a4f40631a4f906c2BaD353Ed06De7A5D3fCb430",POLS:"0x83e6f1E41cdd28eAcEB20Cb649155049Fac3D5Aa",POLY:"0x9992eC3cF6A55b00978cdDF2b27BC6882d88D1eC",POWR:"0x595832F8FC6BF59c85C527fEC3740A1b7a361269",PRIME:"0xb23d80f5FefcDDaa212212F028021B41DEd428CF",PRQ:"0x362bc847A3a9637d3af6624EeC853618a43ed7D2",PYUSD:"0x6c3ea9036406852006290770BEdFcAbA0e23A0e8",QNT:"0x4a220E6096B25EADb88358cb44068A3248254675",QUICK:"0x6c28AeF8977c9B773996d0e8376d2EE379446F2f",RAD:"0x31c8EAcBFFdD875c74b94b077895Bd78CF1E64A3",RAI:"0x03ab458634910AaD20eF5f1C8ee96F1D6ac54919",RARE:"0xba5BDe662c17e2aDFF1075610382B9B691296350",RARI:"0xFca59Cd816aB1eaD66534D82bc21E7515cE441CF",REN:"0x408e41876cCCDC0F92210600ef50372656052a38",REP:"0x1985365e9f78359a9B6AD760e32412f4a445E862",REQ:"0x8f8221aFbB33998d8584A2B05749bA73c37a938a",REVV:"0x557B933a7C2c45672B610F8954A3deB39a51A8Ca",RLC:"0x607F4C5BB672230e8672085532f7e901544a7375",RLY:"0xf1f955016EcbCd7321c7266BccFB96c68ea5E49b",RNDR:"0x6De037ef9aD2725EB40118Bb1702EBb27e4Aeb24",SHIB:"0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE",SNT:"0x744d70FDBE2Ba4CF95131626614a1763DF805B9E",SOL:"0xD31a59c85aE9D8edEFeC411D448f90841571b89c",SPELL:"0x090185f2135308BaD17527004364eBcC2D37e5F6",STORJ:"0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC",SUPER:"0xe53EC727dbDEB9E2d5456c3be40cFF031AB40A55",SUSHI:"0x6B3595068778DD592e39A122f4f5a5cF09C90fE2",SWFTC:"0x0bb217E40F8a5Cb79Adf04E1aAb60E5abd0dfC1e",SYLO:"0xf293d23BF2CDc05411Ca0edDD588eb1977e8dcd4",SYN:"0x0f2D719407FdBeFF09D87557AbB7232601FD9F29",TBTC:"0x18084fbA666a33d37592fA2633fD49a74DD93a88",TOKE:"0x2e9d63788249371f1DFC918a52f8d799F4a38C94",TONE:"0x2Ab6Bb8408ca3199B8Fa6C92d5b455F820Af03c4",TRAC:"0xaA7a9CA87d3694B5755f213B5D04094b8d0F0A6F",TRB:"0x88dF592F8eb5D7Bd38bFeF7dEb0fBc02cf3778a0",TRIBE:"0xc7283b66Eb1EB5FB86327f08e1B5816b0720212B",TRU:"0x4C19596f5aAfF459fA38B0f7eD92F11AE6543784",TVK:"0xd084B83C305daFD76AE3E1b4E1F1fe2eCcCb3988",UNI:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",USDC:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",VGX:"0x3C4B6E6e1eA3D4863700D7F76b36B7f3D3f13E3d",WAMPL:"0xEDB171C18cE90B633DB442f2A6F72874093b49Ef",WBTC:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",WETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",XCN:"0xA2cd3D43c775978A96BdBf12d733D5A1ED94fb18",XSGD:"0x70e8dE73cE538DA2bEEd35d14187F6959a8ecA96",YFI:"0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e",YFII:"0xa1d0E215a23d7030842FC67cE582a6aFa3CCaB83"},5:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F"},10:{AAVE:"0x76FB31fb4af56892A25e32cFC43De717950c9278",CRV:"0x0994206dfE8De6Ec6920FF4D779B0d950605Fb53",DAI:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",ENS:"0x65559aA14915a70190438eF90104769e5E890A00",FRAX:"0x2E3D870790dC77A83DD1d18184Acc7439A53f475",LDO:"0xFdb794692724153d1488CcdBE0C56c252596735F",LINK:"0x350a791Bfc2C21F9Ed5d10980Dad2e2638ffa7f6",LUSD:"0xc40F949F8a4e094D1b49a23ea9241D289B7b2819",OP:"0x4200000000000000000000000000000000000042",PEPE:"0xC1c167CC44f7923cd0062c4370Df962f9DDB16f5",PERP:"0x9e1028F5F1D5eDE59748FFceE5532509976840E0",RAI:"0x7FB688CCf682d58f86D7e38e03f9D22e7705448B",UNI:"0x6fd9d7AD17242c41f7131d257212c54A0e816691",USDC:"0x0b2C639c533813f4Aa9D7837CAf62653d097Ff85",USDT:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",WBTC:"0x68f180fcCe6836688e9084f035309E29Bf0A2095",WETH:"0x4200000000000000000000000000000000000006"},56:{AAVE:"0xfb6115445Bff7b52FeB98650C87f44907E58f802",ADA:"0x3ee2200efb3400fabb9aacf31297cbdd1d435d47",AVAX:"0x1ce0c2827e2ef14d5c4f29a091d735a204794041",BTCB:"0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c",BUSD:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",CAKE:"0x0e09fabb73bd3ade0a17ecc321fd13a19e81ce82",DAI:"0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3",DOGE:"0xba2ae424d960c26247dd6c32edc70b295c744c43",DOT:"0x7083609fce4d1d8dc0c979aab8c869ea2c873402",ETH:"0x2170Ed0880ac9A755fd29B2688956BD959F933F8",FET:"0x031b41e504677879370e9DBcF937283A8691Fa7f",FRAX:"0x90C97F71E18723b0Cf0dfa30ee176Ab653E89F40",FTM:"0xAD29AbB318791D579433D831ed122aFeAf29dcfe",HIGH:"0x5f4Bde007Dc06b867f86EBFE4802e34A1fFEEd63",HOOK:"0xa260e12d2b924cb899ae80bb58123ac3fee1e2f0",LINK:"0xF8A0BF9cF54Bb92F17374d9e9A321E6a111a51bD",MATIC:"0xCC42724C6683B7E57334c4E856f4c9965ED682bD",MBOX:"0x3203c9e46ca618c8c1ce5dc67e7e9d75f5da2377",MIM:"0xfE19F0B51438fd612f6FD59C1dbB3eA319f433Ba",SHIB:"0x2859e4544c4bb03966803b044a93563bd2d0dd4d",STG:"0xB0D502E938ed5f4df2E681fE6E419ff29631d62b",TRON:"0xce7de646e7208a4ef112cb6ed5038fa6cc6b12e3",TWT:"0x4B0F1812e5Df2A09796481Ff14017e6005508003",UNI:"0xBf5140A22578168FD562DCcF235E5D43A02ce9B1",USDC:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",USDT:"0x55d398326f99059fF775485246999027B3197955",WBNB:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",XRP:"0x1d2f0da169ceb9fc7b3144628db156f3f6c60dbe"},97:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x16227D60f7a0e586C66B005219dfc887D13C9531"},137:{AAVE:"0xD6DF932A45C0f255f85145f286eA0b292B21C90B",AGEUR:"0xE0B52e49357Fd4DAf2c15e02058DCE6BC0057db4",ANKR:"0x101A023270368c0D50BFfb62780F4aFd4ea79C35",BUSD:"0xdAb529f40E671A1D4bF91361c21bf9f0C9712ab7",COMP:"0x8505b9d2254A7Ae468c0E9dd10Ccea3A837aef5c",CRV:"0x172370d5Cd63279eFa6d502DAB29171933a610AF",DAI:"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",DPI:"0x85955046DF4668e1DD369D2DE9f3AEB98DD2A369",DYDX:"0x4C3bF0a3DE9524aF68327d1D2558a3B70d17D42a",FORT:"0x9ff62d1FC52A907B6DCbA8077c2DDCA6E6a9d3e1",FRAX:"0x104592a158490a9228070E0A8e5343B499e125D0",GHST:"0x385Eeac5cB85A38A9a07A70c73e0a3271CfB54A7",GNS:"0xE5417Af564e4bFDA1c483642db72007871397896",GRT:"0x5fe2B58c013d7601147DcdD68C143A77499f5531",IOTX:"0xf6372cDb9c1d3674E83842e3800F2A62aC9F3C66",LDO:"0xC3C7d422809852031b44ab29EEC9F1EfF2A58756",LINK:"0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39",MANA:"0xA1c57f48F0Deb89f569dFbE6E2B7f46D33606fD4",MKR:"0x6f7C932e7684666C9fd1d44527765433e01fF61d",MLN:"0xa9f37D84c856fDa3812ad0519Dad44FA0a3Fe207",ONEINCH:"0x9c2C5fd7b07E95EE044DDeba0E97a665F142394f",OXT:"0x9880e3dDA13c8e7D4804691A45160102d31F6060",RNDR:"0x61299774020dA444Af134c82fa83E3810b309991",SHIB:"0x6f8a06447Ff6FcF75d803135a7de15CE88C1d4ec",SNX:"0x50B728D8D964fd00C2d0AAD81718b71311feF68a",SUSHI:"0x0b3F868E0BE5597D5DB7fEB59E1CADBb0fdDa50a",UNI:"0xb33EaAd8d922B1083446DC23f610c2567fB5180f",USDC:"0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359",USDCe:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",USDT:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",VOXEL:"0xd0258a3fD00f38aa8090dfee343f10A9D4d30D3F",WBTC:"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6",WETH:"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619"},420:{ECO:"0x54bBECeA38ff36D32323f8A754683C1F5433A89f","6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0xe05606174bac4A6364B31bd0eCA4bf4dD368f8C6"},8453:{DAI:"0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb",PRIME:"0xfA980cEd6895AC314E7dE34Ef1bFAE90a5AdD21b",TBTC:"0x236aa50979D5f3De3Bd1Eeb40E81137F22ab794b",USDbC:"0xd9aAEc86B65D86f6A7B5B1b0c42FFA531710b6CA",USDC:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",WAMPL:"0x489fe42C267fe0366B16b0c39e7AEEf977E841eF",WETH:"0x4200000000000000000000000000000000000006"},42161:{AAVE:"0xba5DdD1f9d7F570dc94a51479a000E3BCE967196",ARB:"0x912ce59144191c1204e64559fe8253a0e49e6548",BADGER:"0xBfa641051Ba0a0Ad1b0AcF549a89536A0D76472E",BAL:"0x040d1edc9569d4bab2d15287dc5a4f10f56a56b8",CBETH:"0x1DEBd73E752bEaF79865Fd6446b0c970EaE7732f",COMP:"0x354A6dA3fcde098F8389cad84b0182725c6C91dE",CRV:"0x11cDb42B0EB46D95f990BeDD4695A6e3fA034978",CTX:"0x84F5c2cFba754E76DD5aE4fB369CfC920425E12b",DAI:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",FRAX:"0x17fc002b466eec40dae837fc4be5c67993ddbd6f",GMX:"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a",GRT:"0x9623063377AD1B27544C965cCd7342f7EA7e88C7",KYBER:"0xe4dddfe67e7164b0fe14e218d80dc4c08edc01cb",LDO:"0x13Ad51ed4F1B7e9Dc168d8a00cB3f4dDD85EfA60",LINK:"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4",LPT:"0x289ba1701C2F088cf0faf8B3705246331cB8A839",LUSD:"0x93b346b6BC2548dA6A1E7d98E9a421B42541425b",MATIC:"0x561877b6b3DD7651313794e5F2894B2F18bE0766",SNX:"0xcBA56Cd8216FCBBF3fA6DF6137F3147cBcA37D60",SPELL:"0x3E6648C5a70A150A88bCE65F4aD4d506Fe15d2AF",SUSHI:"0xd4d42F0b6DEF4CE0383636770eF773390d85c61A",TUSD:"0x4d15a3a2286d883af0aa1b3f21367843fac63e07",UNI:"0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0",USDC:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",USDCe:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",USDT:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",WBTC:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",WETH:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1"},43113:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x5425890298aed601595a70AB815c96711a31Bc65"},43114:{BENQI:"0x8729438eb15e2c8b576fcc6aecda6a148776c0f5",BUSDe:"0x19860ccb0a68fd4213ab9d8266f7bbf05a8dde98",DAIe:"0xd586e7f844cea2f87f50152665bcbc2c279d8d70",EURC:"0xC891EB4cbdEFf6e073e859e987815Ed1505c2ACD",JOE:"0x6e84a6216ea6dacc71ee8e6b0a5b7322eebc0fdd",MIM:"0x130966628846BFd36ff31a822705796e8cb8C18D",PNG:"0x60781c2586d68229fde47564546784ab3faca982",STG:"0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590",USDC:"0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e",USDCe:"0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664",USDT:"0x9702230A8Ea53601f5cD2dc00fDBc13d4dF4A8c7",USDTe:"0xc7198437980c041c805a1edcba50c1ce5db95118",WAVAX:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",WBTC:"0x50b7545627a5162F82A992c33b87aDc75187B218",WETH:"0x49D5c2BdFfac6CE2BFdB6640F4F80f226bc10bAB"},80001:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x9999f7Fea5938fD3b1E26A12c3f2fb024e194f97"},84531:{ECO:"0x7ea172aa6DFe9bEceef679D4Cf90E600e89b9969","6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0xF175520C52418dfE19C8098071a252da48Cd1C19"},84532:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"},421613:{USDC:"0xfd064A18f3BF249cf1f87FC203E90D8f650f2d63","6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"},421614:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"},11155111:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B",USDC:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238"},11155420:{"6TEST":"0x3870419Ba2BBf0127060bCB37f69A1b1C090992B"}};class La extends Qt.EventEmitter{constructor(e){super(),Object.defineProperty(this,"kernelClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.kernelClient=e}async request({method:e,params:a=[]}){switch(e){case"eth_requestAccounts":return this.handleEthRequestAccounts();case"eth_accounts":return this.handleEthAccounts();case"eth_sendTransaction":return this.handleEthSendTransaction(a);case"eth_sign":return this.handleEthSign(a);case"personal_sign":return this.handlePersonalSign(a);case"eth_signTypedData":case"eth_signTypedData_v4":return this.handleEthSignTypedDataV4(a);default:return this.kernelClient.transport.request({method:e,params:a})}}async handleEthRequestAccounts(){return this.kernelClient.account?[this.kernelClient.account.address]:[]}async handleEthAccounts(){return this.kernelClient.account?[this.kernelClient.account.address]:[]}async handleEthSendTransaction(e){const[a]=e;return this.kernelClient.sendTransaction({...a,value:a.value?Ut(a.value):void 0})}async handleEthSign(e){var s;if(!((s=this.kernelClient)!=null&&s.account))throw new Error("account not connected!");const[a,n]=e;if(a.toLowerCase()!==this.kernelClient.account.address.toLowerCase())throw new Error("cannot sign for address that is not the current account");return this.kernelClient.signMessage({message:n,account:this.kernelClient.account})}async handlePersonalSign(e){var s;if(!((s=this.kernelClient)!=null&&s.account))throw new Error("account not connected!");const[a,n]=e;if(n.toLowerCase()!==this.kernelClient.account.address.toLowerCase())throw new Error("cannot sign for address that is not the current account");return this.kernelClient.signMessage({message:a,account:this.kernelClient.account})}async handleEthSignTypedDataV4(e){var i;if(!((i=this.kernelClient)!=null&&i.account))throw new Error("account not connected!");const[a,n]=e,s=JSON.parse(n);if(a.toLowerCase()!==this.kernelClient.account.address.toLowerCase())throw new Error("cannot sign for address that is not the current account");return this.kernelClient.signTypedData({account:this.kernelClient.account,domain:s.domain,types:s.types,message:s.message,primaryType:s.primaryType})}}const Ra=t=>{const e=new URL(t),a=e.searchParams;return a.has("bundlerProvider")?a.set("bundlerProvider","PIMLICO"):a.has("paymasterProvider")?a.set("paymasterProvider","PIMLICO"):a.set("provider","PIMLICO"),e.search=a.toString(),e.toString()},_a=(t,e)=>{const n=new URL(t).searchParams;return(n.get("provider")??n.get("bundlerProvider")??n.get("paymasterProvider"))===e},Na=async({plugin:t,entryPoint:e,kernelVersion:a,hook:n,action:s})=>{if(!bt(a,">0.3.0"))throw new Error("Kernel version must be greater than 0.3.0");return{type:zt.VALIDATOR,address:t.address,data:M([(n==null?void 0:n.getIdentifier())??S,me(Ae("bytes validatorData, bytes hookData, bytes selectorData"),[await t.getEnableData(),await(n==null?void 0:n.getEnableData())??"0x",(s==null?void 0:s.selector)??mt(e.version)])])}};export{Va as AccountNotFoundError,Ua as EIP1271Abi,Ea as KERNEL_ADDRESSES,Z as KERNEL_FEATURES,Ka as KERNEL_FEATURES_BY_VERSION,ka as KernelAccountAbi,La as KernelEIP1193Provider,wa as KernelFactoryAbi,st as KernelFactoryStakerAbi,te as KernelV3AccountAbi,lt as KernelV3ExecuteAbi,aa as KernelV3FactoryAbi,it as KernelV3InitAbi,dt as KernelV3_1AccountAbi,Ia as KernelV3_3AccountAbi,Ha as SignTransactionNotSupportedBySmartAccountError,Ma as TokenActionsAbi,ut as accountMetadata,ea as addressToEmptyAccount,Ga as changeSudoValidator,on as constants,va as createFallbackKernelAccountClient,he as createKernelAccount,Aa as createKernelAccountClient,Ba as createKernelAccountV0_2,Ta as createKernelAccountV1,xa as createKernelMigrationAccount,ha as createZeroDevPaymasterClient,za as deepHexlify,xe as eip712WrapHash,ct as encodeCallDataEpV06,ee as encodeCallDataEpV07,yt as encodeDeployCallDataV06,pt as encodeDeployCallDataV07,Xa as fixSignedData,Sa as gasTokenAddresses,mt as getActionSelector,ga as getCustomNonceKeyFromString,Wa as getERC20PaymasterApproveCall,Ya as getEncodedPluginsData,ja as getExecMode,$a as getKernelV3Nonce,qa as getPluginsEnableTypedData,Ja as getUpgradeKernelCall,Qa as getUserOperationGasPrice,Na as getValidatorPluginInstallModuleData,Q as hasKernelFeature,Za as invalidateNonce,en as isPluginInitialized,_a as isProviderSet,tn as kernelAccountClientActions,bt as satisfiesRange,Ra as setPimlicoAsProvider,an as signUserOperation,nn as sponsorUserOperation,we as toSigner,sn as uninstallPlugin,rn as upgradeKernel,at as validateKernelVersionWithEntryPoint,Fa as verifyEIP6492Signature,ft as zerodevPaymasterActions};
